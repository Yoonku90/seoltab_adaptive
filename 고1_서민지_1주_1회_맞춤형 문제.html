<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê³ 1 ì„œë¯¼ì§€ - ì•½ì  ë³´ì™„ ë§ì¶¤í˜• ë¬¸ì œ</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; margin: 0; padding: 2em; background-color: #f4f7f9; color: #333; }
        .quiz-container { max-width: 800px; margin: auto; background: white; padding: 2em; border-radius: 10px; box-shadow: 0 0 15px rgba(0,0,0,0.05); }
        h1, h2 { text-align: center; color: #2c3e50; }
        .info-block { margin-bottom: 2em; padding-bottom: 1em; border-bottom: 1px solid #e0e0e0; }
        .question-block { margin-bottom: 2.5em; border-top: 1px solid #e0e0e0; padding-top: 1.5em; }
        .question-block .q-title { font-weight: bold; margin-bottom: 1em; line-height: 1.5; }
        .passage { background-color: #f8f9fa; border-left: 4px solid #007bff; padding: 1em; margin: 1em 0; font-size: 0.95em; color: #555; white-space: pre-wrap; line-height: 1.6; }
        .options label { display: block; margin-bottom: 0.8em; cursor: pointer; padding: 0.5em; border-radius: 5px; transition: background-color 0.2s; }
        .options label:hover { background-color: #e9ecef; }
        input[type="radio"], input[type="text"] { margin-right: 0.5em; vertical-align: middle; }
        input[type="text"] { width: 90%; padding: 0.5em; border: 1px solid #ccc; border-radius: 4px; }
        .submit-btn { display: block; width: 100%; padding: 1em; font-size: 1.1em; background-color: #28a745; color: white; border: none; border-radius: 5px; cursor: pointer; transition: background-color 0.2s; margin-top: 2em; }
        .submit-btn:hover { background-color: #218838; }
        .results-area { margin-top: 2em; padding: 1.5em; background-color: #eef8ff; border: 1px solid #b8dcf1; border-radius: 8px; }
        textarea { width: 100%; height: 200px; margin-top: 1em; font-family: monospace; }
        .correct { color: green; font-weight: bold; }
        .incorrect { color: red; font-weight: bold; }
        .explanation-details { margin-top: 10px; font-size: 0.9em; }
        .explanation-details summary { cursor: pointer; color: #0056b3; font-weight: normal; display: inline-block; padding: 2px 6px; border-radius: 4px; background-color: #e9ecef; }
        .explanation-details[open] summary { background-color: #007bff; color: white; }
        .explanation-content { margin-top: 8px; padding: 10px; background-color: #f8f9fa; border-radius: 4px; color: #444; line-height: 1.6; }
    </style>
</head>
<body>
    <div class="quiz-container">
        <h1>ê³ 1 ì„œë¯¼ì§€ - ì•½ì  ë³´ì™„ í€´ì¦ˆ</h1>
        <div class="info-block">
            <label for="studentName">ì´ë¦„:</label>
            <input type="text" id="studentName" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”" value="ê³ 1_ì„œë¯¼ì§€">
        </div>
        <div id="quiz-form"></div>
        <button class="submit-btn" onclick="submitQuiz()">ê²°ê³¼ í™•ì¸ ë° ë³µì‚¬í•˜ê¸°</button>
        <div id="results" class="results-area" style="display:none;">
            <h2>ğŸ“ ì±„ì  ê²°ê³¼</h2>
            <p id="score"></p>
            <div id="feedback"></div>
            <h3>ğŸ“‹ ê²°ê³¼ ë³µì‚¬í•˜ê¸°</h3>
            <p>ì•„ë˜ ë‚´ìš©ì„ ë³µì‚¬í•˜ì—¬ ì„ ìƒë‹˜ê»˜ ì œì¶œí•˜ì„¸ìš”.</p>
            <textarea id="resultText" readonly></textarea>
        </div>
    </div>

    <script>
        const quizData = [
            {
                question: `1. ë‹¤ìŒ ìš°ë¦¬ë§ì„ ì˜ì–´ë¡œ ê°€ì¥ ì˜ ì˜®ê¸´ ê²ƒì€?<br><br>> ë‚˜ëŠ” ê·¸ê²ƒì´ ì‹¤ì œë¡œ ì—¬ëŸ¬ ë‹¤ë¥¸ êµ­ê°€ë“¤ì—ì„œë„ í”í•˜ë‹¤ëŠ” ê²ƒì„ ê±°ì˜ ì•Œì§€ ëª»í–ˆë‹¤.`,
                options: ["Little I knew that it's actually common in many other countries, too.", "Little I did know that it is actually common in many other countries, too.", "Little did I know that it's actually common in many other countries, too.", "It is a little known fact that the name is common in many other countries.", "I knew a little that it's actually common in many other countries, too."],
                answer: 2,
                type: 'mc',
                explanation: "`Little`ê³¼ ê°™ì€ ë¶€ì •ì–´êµ¬ê°€ ë¬¸ë‘ì— ì˜¬ ê²½ìš° `did + ì£¼ì–´ + ë™ì‚¬ì›í˜•`ì˜ í˜•íƒœë¡œ ë„ì¹˜ë˜ì–´ì•¼ í•˜ë¯€ë¡œ â‘¢ë²ˆì´ ì •ë‹µì´ë‹¤."
            },
            {
                question: "2. ë‹¤ìŒ ê¸€ì˜ ë°‘ì¤„ ì¹œ â‘ ~â‘¤ ì¤‘, ì–´ë²•ìƒ <u>í‹€ë¦°</u> ê²ƒì€?",
                passage: `Our band is something really special. â‘  <u>Never did we expect</u> that we would build such strong relationships with one another. After all, we donâ€™t come from similar backgrounds, â‘¡ <u>nor have we had</u> the same life experiences. Yet we now talk about almost everything together, including the hardships we face in life. I think itâ€™s been really valuable to get advice from people with such different perspectives. We would all like to meet in person and play our music on the street someday. But even if â‘¢ <u>that never happens</u>, weâ€™ve still been incredibly lucky. Four random people became great friends simply â‘£ <u>because of our names</u>. Life can be amazing sometimes, and â‘¤ <u>so can be our journey</u>.`,
                options: ["â‘ ", "â‘¡", "â‘¢", "â‘£", "â‘¤"],
                answer: 4,
                type: 'mc',
                explanation: "â‘¤ 'so + ì¡°ë™ì‚¬ + ì£¼ì–´'ì˜ ë„ì¹˜ êµ¬ë¬¸ì€ '~ë„ ë˜í•œ ê·¸ë ‡ë‹¤'ëŠ” ì˜ë¯¸ì´ë‹¤. ì£¼ì–´ëŠ” 'our journey'ì´ë¯€ë¡œ, `so can our journey`ê°€ ë˜ì–´ì•¼ ì˜¬ë°”ë¥¸ ì–´ìˆœì´ë‹¤. `so can be our journey`ëŠ” ë™ì‚¬ `be`ì˜ ìœ„ì¹˜ê°€ ì˜ëª»ë˜ì—ˆë‹¤."
            },
            {
                question: `3. ë‹¤ìŒ ìš°ë¦¬ë§ì„ ì˜ì–´ë¡œ ê°€ì¥ ì˜ ì˜®ê¸´ ê²ƒì€?<br><br>> ë‚´ê°€ ë³¸ ê²ƒì— ë‚˜ëŠ” ê¹œì§ ë†€ëë‹¤.`,
                options: ["I was amazed at that I saw.", "I was amazing at what I saw.", "What I saw was amazed for me.", "I was amazed at what I saw.", "What I saw it was amazing to me."],
                answer: 3,
                type: 'mc',
                explanation: "`~í•˜ëŠ” ê²ƒ`ì´ë¼ëŠ” ì˜ë¯¸ì˜ ì„ í–‰ì‚¬ë¥¼ í¬í•¨í•˜ëŠ” ê´€ê³„ëŒ€ëª…ì‚¬ `what`ì„ ì‚¬ìš©í•˜ì—¬ `what I saw`ë¥¼ ë§Œë“¤ì–´ì•¼ í•œë‹¤. ê°ì •ì„ ëŠë¼ëŠ” ì£¼ì²´ì´ë¯€ë¡œ `amazed`ê°€ ë§ë‹¤. ë”°ë¼ì„œ â‘£ë²ˆì´ ì •ë‹µì´ë‹¤."
            },
            {
                question: "4. ë‹¤ìŒ ë°‘ì¤„ ì¹œ whatì˜ ì“°ì„ì´ ë‚˜ë¨¸ì§€ ë„·ê³¼ <u>ë‹¤ë¥¸</u> í•˜ë‚˜ëŠ”?",
                passage: `â‘  We were proud of <u>what</u> we had achieved together.\nâ‘¡ I was amazed at <u>what</u> I saw on the social media website.\nâ‘¢ We did <u>what</u> we could do to cheer Singaporean Sam up.\nâ‘£ Here is <u>what</u> I wrote in the message to the other Sam Lees.\nâ‘¤ He asked me <u>what</u> kind of music I enjoyed playing the most.`,
                options: ["â‘ ", "â‘¡", "â‘¢", "â‘£", "â‘¤"],
                answer: 4,
                type: 'mc',
                explanation: "â‘ , â‘¡, â‘¢, â‘£ë²ˆì˜ `what`ì€ ëª¨ë‘ '~í•˜ëŠ” ê²ƒ'ì´ë¼ëŠ” ì˜ë¯¸ì˜ ê´€ê³„ëŒ€ëª…ì‚¬ì´ë‹¤. í•˜ì§€ë§Œ â‘¤ë²ˆì˜ `what`ì€ `kind of music`ì„ ìˆ˜ì‹í•˜ëŠ” 'ì–´ë–¤'ì´ë¼ëŠ” ì˜ë¯¸ì˜ ì˜ë¬¸í˜•ìš©ì‚¬ì´ë¯€ë¡œ ì“°ì„ì´ ë‹¤ë¥´ë‹¤."
            },
            {
                question: `5. ë‹¤ìŒ ê¸€ì˜ ë‚´ìš©ì„ í•œ ë¬¸ì¥ìœ¼ë¡œ ìš”ì•½í•˜ê³ ì í•œë‹¤. ë¹ˆì¹¸ (A), (B)ì— ë“¤ì–´ê°ˆ ë§ë¡œ ê°€ì¥ ì ì ˆí•œ ê²ƒì€?<br><br>-> To overcome the (A)__________________ of practicing together in real-time, the band adopted a sequential, (B)__________________ method of creating their music.`,
                passage: `We tried to practice once a week through a video chat app, but we encountered several problems. First of all, we all lived in different time zones. This made it difficult to pick a convenient time for everyone to practice. Secondly, there were audio issues with the app, which caused us to be out of sync. So we put our heads together and devised a better way of playing music. We decided to assemble the songs as if we were working in a virtual music factory. After we decided on a song, I would play it on my keyboard and send it to Singaporean Sam. He would sing along with the keyboard and send the recording to American Sam. Then American Sam would add his guitar part, and Samantha would finish the song with her drumming.`,
                options: ["(A) benefits (B) synchronous", "(A) challenges (B) collaborative", "(A) conveniences (B) simultaneous", "(A) necessities (B) individual", "(A) solutions (B) virtual"],
                answer: 1,
                type: 'mc',
                explanation: "ë³¸ë¬¸ì€ ì‹¤ì‹œê°„ ì˜¨ë¼ì¸ ì—°ìŠµì˜ ë¬¸ì œì (challenges)ì„ ê·¹ë³µí•˜ê¸° ìœ„í•´, ê°ì íŒŒíŠ¸ë¥¼ ë…¹ìŒí•´ í•©ì¹˜ëŠ” í˜‘ë ¥ì ì¸(collaborative) ë°©ì‹ì„ ê³ ì•ˆí–ˆë‹¤ê³  ì„¤ëª…í•œë‹¤. ë”°ë¼ì„œ â‘¡ë²ˆì´ ë¬¸ë§¥ìƒ ê°€ì¥ ì ì ˆí•˜ë‹¤."
            },
            {
                question: "6. ë°‘ì¤„ ì¹œ <u>what we had achieved together</u>ê°€ ë‹¤ìŒ ê¸€ì—ì„œ ì˜ë¯¸í•˜ëŠ” ë°”ë¡œ ê°€ì¥ ì ì ˆí•œ ê²ƒì€?",
                passage: `Shortly after we started the band, a global pandemic began. Since all of our normal lives were put on hold, we valued our online interactions more than ever. At one point, Singaporean Sam became ill and needed to spend some time in the hospital, so the band took a break. However, we still met from time to time by using the video chat app. We talked about our lives and did what we could do to cheer Singaporean Sam up. After Singaporean Sam recovered, we decided to write and record our own song. We called the song â€œLong-Distance Friendship,â€ and we posted it online. The song didnâ€™t get much attention, but we were proud of <u>what we had achieved together</u>.`,
                options: ["The band's song finally received the public attention it deserved.", "The members successfully overcame geographical and personal challenges to create something meaningful.", "The online interactions helped them achieve a higher level of musical skill than practicing in person.", "The members created a song that was commercially successful despite the pandemic.", "The process of recording a song online was much easier and more efficient than they had expected."],
                answer: 1,
                type: 'mc',
                explanation: "ë°´ë“œê°€ ì´ë£¬ ê²ƒì€ ë‹¨ìˆœíˆ ë…¸ë˜ í•˜ë‚˜ê°€ ì•„ë‹ˆë¼, íŒ¬ë°ë¯¹ê³¼ ë©¤ë²„ì˜ íˆ¬ë³‘ì´ë¼ëŠ” ì§€ë¦¬ì , ê°œì¸ì  ì–´ë ¤ì›€ì„ í•¨ê»˜ ê·¹ë³µí•˜ê³  ì˜ë¯¸ ìˆëŠ” ê²°ê³¼ë¬¼ì„ ë§Œë“¤ì–´ë‚¸ ê³¼ì • ì „ì²´ë¥¼ ì˜ë¯¸í•œë‹¤. ë”°ë¼ì„œ â‘¡ë²ˆì´ ê°€ì¥ í¬ê´„ì ì´ê³  ì ì ˆí•œ ì˜ë¯¸ì´ë‹¤."
            },
            {
                bundle_id: '7-8',
                question: "7. ìœ—ê¸€ì˜ ë°‘ì¤„ ì¹œ (A)~(E) ì¤‘, ë¬¸ë§¥ìƒ ë‚±ë§ì˜ ì“°ì„ì´ ì ì ˆí•˜ì§€ <u>ì•Šì€</u> ê²ƒì€?",
                passage: `Our band is something really special. (A)<u>Never did we expect</u> that we would build such strong relationships with one another. After all, we donâ€™t come from (B)<u>similar</u> backgrounds, nor have we had the same life experiences. Yet we now talk about almost everything together, including the (C)<u>hardships</u> we face in life. I think itâ€™s been really valuable to get advice from people with such different perspectives. We would all like to meet in person and play our music on the street someday. But even if that never (D)<u>happens</u>, weâ€™ve still been incredibly lucky. Four random people became great friends simply because of our names. Life can be (E)<u>discouraging</u> sometimes!`,
                options: ["(A)", "(B)", "(C)", "(D)", "(E)"],
                answer: 4,
                type: 'mc',
                explanation: "ê¸€ì˜ ì „ì²´ì ì¸ ë‚´ìš©ì€ ì´ë¦„ì´ë¼ëŠ” ìš°ì—° ë•ë¶„ì— ë©‹ì§„ ì¹œêµ¬ê°€ ëœ ê¸ì •ì ì¸ ê²½í—˜ì„ ì´ì•¼ê¸°í•˜ê³  ìˆë‹¤. ë”°ë¼ì„œ ë§ˆì§€ë§‰ ë¬¸ì¥ì€ 'ì‚¶ì€ ë•Œë•Œë¡œ ë†€ë¼ìš¸ ìˆ˜ ìˆë‹¤(amazing)'ëŠ” ë‚´ìš©ì´ ë˜ì–´ì•¼ ë¬¸ë§¥ìƒ ìì—°ìŠ¤ëŸ½ë‹¤. `discouraging`(ë‚™ë‹´ì‹œí‚¤ëŠ”)ì€ ë°˜ëŒ€ ì˜ë¯¸ì´ë‹¤."
            },
            {
                bundle_id: '7-8',
                question: `8. ìœ—ê¸€ì˜ ë‚´ìš©ê³¼ ì¼ì¹˜í•˜ë„ë¡ ë‹¤ìŒ ì§ˆë¬¸ì— ëŒ€í•œ ëŒ€ë‹µì˜ ë¹ˆì¹¸ì— ë“¤ì–´ê°ˆ ë§ë¡œ ê°€ì¥ ì ì ˆí•œ ê²ƒì€?<br><br>Q: What is the primary factor that makes "The Sam Lees" band so special, according to the narrator?<br><br>A: It is the fact that a deep friendship was formed among people who, despite having ______________________, learned to value their different perspectives.`,
                options: ["shared goals and similar hardships", "no common backgrounds or experiences", "a strong expectation of success from the start", "a long history of making music together", "the same name and identical life experiences"],
                answer: 1,
                type: 'mc',
                explanation: "ë³¸ë¬¸ì—ì„œ 'donâ€™t come from similar backgrounds, nor have we had the same life experiences'ë¼ê³  ëª…í™•íˆ ì–¸ê¸‰í–ˆìœ¼ë¯€ë¡œ, ê³µí†µëœ ë°°ê²½ì´ë‚˜ ê²½í—˜ì´ ì—†ìŒì—ë„ ë¶ˆêµ¬í•˜ê³  ê¹Šì€ ìš°ì •ì´ í˜•ì„±ëœ ê²ƒì´ ë°´ë“œì˜ íŠ¹ë³„í•œ ì ì´ë‹¤."
            },
            {
                bundle_id: '9-10',
                question: "9. ìœ—ê¸€ì„ í†µí•´ ì¶”ë¡ í•  ìˆ˜ ìˆëŠ” ë‚´ìš©ìœ¼ë¡œ ê°€ì¥ ì ì ˆí•œ ê²ƒì€?",
                passage: `A lot of them accepted my friend request. While looking through their profiles, I noticed something interesting. Several Sam Lees of various ages and nationalities were interested in music. There was a Sam Lee in his mid-30s from Singapore who enjoyed singing and writing lyrics. And there was a 42-year-old Canadian Sam Lee who was a drummer. According to her profile, everyone called her Sam even though her real name was Samantha. Finally, there was an American Sam Lee who played the electric guitar. Suddenly, I had a great idea. I sent a message to all three. Here is what I wrote: â€œHi! Iâ€™m Sam Lee from Korea. I write songs and play the keyboard. How about making a virtual band called The Sam Lees?â€ To my surprise, all three eagerly agreed. That was the start of our bandâ€™s journey.`,
                options: ["The narrator searched for musicians online to form a professional virtual band.", "The members of 'The Sam Lees' are all of the same age and nationality.", "The idea to form a band was a spontaneous decision triggered by a chance discovery.", "Samantha from Canada was initially hesitant to use her nickname for the band.", "The narrator was the only member who could write songs and play an instrument."],
                answer: 2,
                type: 'mc',
                explanation: "ê¸€ì“´ì´ëŠ” 'Just for fun'ìœ¼ë¡œ ì¹œêµ¬ ìš”ì²­ì„ ë³´ëƒˆê³ , ìŒì•…ì´ë¼ëŠ” ê³µí†µì ì„ 'ë°œê²¬í•œ(noticed)' í›„ì— ë°´ë“œë¥¼ ë§Œë“¤ìëŠ” 'í›Œë¥­í•œ ìƒê°(a great idea)'ì„ ë– ì˜¬ë ¸ë‹¤. ì´ëŠ” ê³„íšëœ ê²ƒì´ ì•„ë‹Œ ìš°ì—°í•œ ë°œê²¬ì—ì„œ ë¹„ë¡¯ëœ ì¦‰í¥ì ì¸ ê²°ì •ì´ì—ˆìŒì„ ë³´ì—¬ì¤€ë‹¤."
            },
            {
                bundle_id: '9-10',
                question: "10. ìœ—ê¸€ì˜ ë°‘ì¤„ ì¹œ ë¶€ë¶„ ì¤‘ ì–´ë²•ìƒ ì˜³ì€ ê²ƒì„ <u>ëª¨ë‘</u> ê³ ë¥¸ ê²ƒì€?",
                passage: `While â“<u>looked</u> through their profiles, I noticed something interesting. Several Sam Lees of various ages and nationalities â“‘<u>was</u> interested in music. There was a Sam Lee in his mid-30s from Singapore who enjoyed singing and writing lyrics. And there was a 42-year-old Canadian Sam Lee who was a drummer. According to her profile, everyone â“’<u>called</u> her Sam even though her real name was Samantha. Finally, there was an American Sam Lee â““<u>which</u> played the electric guitar. Suddenly, I had a great idea. I sent a message to all three. Here is â“”<u>what</u> I wrote.`,
                options: ["â“, â““", "â“‘, â“’", "â“’, â“”", "â“, â“’, â“”", "â“‘, â““, â“”"],
                answer: 2,
                type: 'mc',
                explanation: "â“’ `called`ëŠ” 5í˜•ì‹ ë™ì‚¬ë¡œ ì˜¬ë°”ë¥´ê²Œ ì‚¬ìš©ë˜ì—ˆë‹¤. â“” `what I wrote`ëŠ” ì„ í–‰ì‚¬ë¥¼ í¬í•¨í•˜ëŠ” ê´€ê³„ëŒ€ëª…ì‚¬ `what`ìœ¼ë¡œ ì˜¬ë°”ë¥´ê²Œ ì‚¬ìš©ë˜ì—ˆë‹¤. â“ ë¶„ì‚¬êµ¬ë¬¸ìœ¼ë¡œ ëŠ¥ë™ì˜ ì˜ë¯¸ì´ë¯€ë¡œ `looking`ì´ ë§ë‹¤. â“‘ ì£¼ì–´ê°€ `Several Sam Lees`ë¡œ ë³µìˆ˜ì´ë¯€ë¡œ `were`ê°€ ë§ë‹¤. â““ ì„ í–‰ì‚¬ê°€ `an American Sam Lee`ë¼ëŠ” ì‚¬ëŒì´ë¯€ë¡œ ê´€ê³„ëŒ€ëª…ì‚¬ `who`ê°€ ë§ë‹¤."
            }
        ];

        const quizForm = document.getElementById('quiz-form');
        const circledNumbers = ['â‘ ', 'â‘¡', 'â‘¢', 'â‘£', 'â‘¤'];
        const addedPassages = new Set();

        quizData.forEach((q, index) => {
            // Logic for bundled questions
            if (q.bundle_id && !addedPassages.has(q.bundle_id)) {
                const bundleLeadQuestion = quizData.find(item => item.bundle_id === q.bundle_id);
                const passageDiv = document.createElement('div');
                passageDiv.className = 'question-block';
                passageDiv.innerHTML = `
                    <div class="q-title"><b>[${q.bundle_id.replace('-', '~')}] â€» ë‹¤ìŒ ê¸€ì„ ì½ê³  ë¬¼ìŒì— ë‹µí•˜ì‹œì˜¤.</b></div>
                    <div class="passage">${bundleLeadQuestion.passage.replace(/\n\n/g, '<br><br>')}</div>
                `;
                quizForm.appendChild(passageDiv);
                addedPassages.add(q.bundle_id);
            }

            const questionBlock = document.createElement('div');
            questionBlock.className = 'question-block';
            
            if (q.bundle_id) {
                questionBlock.style.borderTop = 'none';
                questionBlock.style.paddingTop = '0.5em';
            }
            
            let content = `<div class="q-title">${q.question}</div>`;
            
            if (q.passage && !q.bundle_id) {
                 content += `<div class="passage">${q.passage}</div>`;
            }
            
            if (q.question_follow_up) {
                content += `<div class="q-title">${q.question_follow_up}</div>`;
            }

            if (q.type === 'mc') {
                content += '<div class="options">';
                q.options.forEach((opt, i) => {
                    content += `<label><input type="radio" name="q${index}" value="${i}"> ${circledNumbers[i]} ${opt}</label>`;
                });
                content += '</div>';
            } else if (q.type === 'text') {
                content += `<input type="text" name="q${index}" placeholder="ì •ë‹µì„ ì…ë ¥í•˜ì„¸ìš”.">`;
            }
            questionBlock.innerHTML = content;
            quizForm.appendChild(questionBlock);
        });

        function submitQuiz() {
            const studentName = document.getElementById('studentName').value || 'ìµëª…';
            let score = 0;
            const feedbackDiv = document.getElementById('feedback');
            feedbackDiv.innerHTML = '';
            let resultString = `í•™ìƒ ID: ${studentName}\në‚ ì§œ: ${new Date().toLocaleDateString()}\n\n[ì±„ì  ê²°ê³¼]\n\n`;

            quizData.forEach((q, index) => {
                const inputs = document.getElementsByName(`q${index}`);
                let userAnswerRaw;
                let userAnswerText = "ë‹µë³€ ì•ˆ í•¨";
                let isCorrect = false;

                if (q.type === 'mc') {
                    for (const input of inputs) {
                        if (input.checked) {
                            userAnswerRaw = parseInt(input.value);
                            userAnswerText = `${circledNumbers[userAnswerRaw]} ${q.options[userAnswerRaw]}`;
                            break;
                        }
                    }
                    isCorrect = (userAnswerRaw === q.answer);
                } else if (q.type === 'text') {
                    userAnswerRaw = inputs[0].value.trim();
                    userAnswerText = userAnswerRaw;
                    const correctAnswer = q.answer.toLowerCase().replace(/\.$/, '');
                    isCorrect = (userAnswerRaw.toLowerCase().replace(/\.$/, '') === correctAnswer);
                }
                
                const feedbackP = document.createElement('p');
                let resultLine;
                const correctAnswerText = q.type === 'mc' ? `${circledNumbers[q.answer]} ${q.options[q.answer]}` : q.answer;

                const detailsBlock = `
                    <details class="explanation-details">
                        <summary>í•´ì„¤ ë³´ê¸°</summary>
                        <div class="explanation-content">${q.explanation}</div>
                    </details>`;
                
                if (isCorrect) {
                    score++;
                    feedbackP.innerHTML = `${index + 1}ë²ˆ: <span class="correct">ì •ë‹µ (1)</span> ${detailsBlock}`;
                    resultLine = `ë¬¸ì œ ë²ˆí˜¸: ${index + 1}\tì •ì˜¤ ì—¬ë¶€: 1\n`;
                } else {
                    feedbackP.innerHTML = `${index + 1}ë²ˆ: <span class="incorrect">ì˜¤ë‹µ (0)</span> (ì •ë‹µ: ${correctAnswerText}) ${detailsBlock}`;
                    resultLine = `ë¬¸ì œ ë²ˆí˜¸: ${index + 1}\tì •ì˜¤ ì—¬ë¶€: 0\tí•™ìƒì´ ê³ ë¥¸ ì˜¤ë‹µ: ${userAnswerText}\n`;
                }
                feedbackDiv.appendChild(feedbackP);
                resultString += resultLine;
            });

            const finalScore = (score / quizData.length) * 100;
            document.getElementById('score').innerText = `ì´ì : ${score} / ${quizData.length} (${finalScore.toFixed(1)}ì )`;
            document.getElementById('results').style.display = 'block';
            
            resultString += `\nì´ì : ${score}/${quizData.length} (${finalScore.toFixed(1)}ì )`;
            document.getElementById('resultText').value = resultString;
        }
    </script>
</body>
</html>