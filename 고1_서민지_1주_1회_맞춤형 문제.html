<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>고1 서민지 - 약점 보완 맞춤형 문제</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; margin: 0; padding: 2em; background-color: #f4f7f9; color: #333; }
        .quiz-container { max-width: 800px; margin: auto; background: white; padding: 2em; border-radius: 10px; box-shadow: 0 0 15px rgba(0,0,0,0.05); }
        h1, h2 { text-align: center; color: #2c3e50; }
        .info-block { margin-bottom: 2em; padding-bottom: 1em; border-bottom: 1px solid #e0e0e0; }
        .question-block { margin-bottom: 2.5em; border-top: 1px solid #e0e0e0; padding-top: 1.5em; }
        .question-block .q-title { font-weight: bold; margin-bottom: 1em; line-height: 1.5; }
        .passage { background-color: #f8f9fa; border-left: 4px solid #007bff; padding: 1em; margin: 1em 0; font-size: 0.95em; color: #555; white-space: pre-wrap; line-height: 1.6; }
        .options label { display: block; margin-bottom: 0.8em; cursor: pointer; padding: 0.5em; border-radius: 5px; transition: background-color 0.2s; }
        .options label:hover { background-color: #e9ecef; }
        input[type="radio"], input[type="text"] { margin-right: 0.5em; vertical-align: middle; }
        input[type="text"] { width: 90%; padding: 0.5em; border: 1px solid #ccc; border-radius: 4px; }
        .submit-btn { display: block; width: 100%; padding: 1em; font-size: 1.1em; background-color: #28a745; color: white; border: none; border-radius: 5px; cursor: pointer; transition: background-color 0.2s; margin-top: 2em; }
        .submit-btn:hover { background-color: #218838; }
        .results-area { margin-top: 2em; padding: 1.5em; background-color: #eef8ff; border: 1px solid #b8dcf1; border-radius: 8px; }
        textarea { width: 100%; height: 200px; margin-top: 1em; font-family: monospace; }
        .correct { color: green; font-weight: bold; }
        .incorrect { color: red; font-weight: bold; }
        .explanation-details { margin-top: 10px; font-size: 0.9em; }
        .explanation-details summary { cursor: pointer; color: #0056b3; font-weight: normal; display: inline-block; padding: 2px 6px; border-radius: 4px; background-color: #e9ecef; }
        .explanation-details[open] summary { background-color: #007bff; color: white; }
        .explanation-content { margin-top: 8px; padding: 10px; background-color: #f8f9fa; border-radius: 4px; color: #444; line-height: 1.6; }
    </style>
</head>
<body>
    <div class="quiz-container">
        <h1>고1 서민지 - 약점 보완 퀴즈</h1>
        <div class="info-block">
            <label for="studentName">이름:</label>
            <input type="text" id="studentName" placeholder="이름을 입력하세요" value="고1_서민지">
        </div>
        <div id="quiz-form"></div>
        <button class="submit-btn" onclick="submitQuiz()">결과 확인 및 복사하기</button>
        <div id="results" class="results-area" style="display:none;">
            <h2>📝 채점 결과</h2>
            <p id="score"></p>
            <div id="feedback"></div>
            <h3>📋 결과 복사하기</h3>
            <p>아래 내용을 복사하여 선생님께 제출하세요.</p>
            <textarea id="resultText" readonly></textarea>
        </div>
    </div>

    <script>
        const quizData = [
            {
                question: `1. 다음 우리말을 영어로 가장 잘 옮긴 것은?<br><br>> 나는 그것이 실제로 여러 다른 국가들에서도 흔하다는 것을 거의 알지 못했다.`,
                options: ["Little I knew that it's actually common in many other countries, too.", "Little I did know that it is actually common in many other countries, too.", "Little did I know that it's actually common in many other countries, too.", "It is a little known fact that the name is common in many other countries.", "I knew a little that it's actually common in many other countries, too."],
                answer: 2,
                type: 'mc',
                explanation: "`Little`과 같은 부정어구가 문두에 올 경우 `did + 주어 + 동사원형`의 형태로 도치되어야 하므로 ③번이 정답이다."
            },
            {
                question: "2. 다음 글의 밑줄 친 ①~⑤ 중, 어법상 <u>틀린</u> 것은?",
                passage: `Our band is something really special. ① <u>Never did we expect</u> that we would build such strong relationships with one another. After all, we don’t come from similar backgrounds, ② <u>nor have we had</u> the same life experiences. Yet we now talk about almost everything together, including the hardships we face in life. I think it’s been really valuable to get advice from people with such different perspectives. We would all like to meet in person and play our music on the street someday. But even if ③ <u>that never happens</u>, we’ve still been incredibly lucky. Four random people became great friends simply ④ <u>because of our names</u>. Life can be amazing sometimes, and ⑤ <u>so can be our journey</u>.`,
                options: ["①", "②", "③", "④", "⑤"],
                answer: 4,
                type: 'mc',
                explanation: "⑤ 'so + 조동사 + 주어'의 도치 구문은 '~도 또한 그렇다'는 의미이다. 주어는 'our journey'이므로, `so can our journey`가 되어야 올바른 어순이다. `so can be our journey`는 동사 `be`의 위치가 잘못되었다."
            },
            {
                question: `3. 다음 우리말을 영어로 가장 잘 옮긴 것은?<br><br>> 내가 본 것에 나는 깜짝 놀랐다.`,
                options: ["I was amazed at that I saw.", "I was amazing at what I saw.", "What I saw was amazed for me.", "I was amazed at what I saw.", "What I saw it was amazing to me."],
                answer: 3,
                type: 'mc',
                explanation: "`~하는 것`이라는 의미의 선행사를 포함하는 관계대명사 `what`을 사용하여 `what I saw`를 만들어야 한다. 감정을 느끼는 주체이므로 `amazed`가 맞다. 따라서 ④번이 정답이다."
            },
            {
                question: "4. 다음 밑줄 친 what의 쓰임이 나머지 넷과 <u>다른</u> 하나는?",
                passage: `① We were proud of <u>what</u> we had achieved together.\n② I was amazed at <u>what</u> I saw on the social media website.\n③ We did <u>what</u> we could do to cheer Singaporean Sam up.\n④ Here is <u>what</u> I wrote in the message to the other Sam Lees.\n⑤ He asked me <u>what</u> kind of music I enjoyed playing the most.`,
                options: ["①", "②", "③", "④", "⑤"],
                answer: 4,
                type: 'mc',
                explanation: "①, ②, ③, ④번의 `what`은 모두 '~하는 것'이라는 의미의 관계대명사이다. 하지만 ⑤번의 `what`은 `kind of music`을 수식하는 '어떤'이라는 의미의 의문형용사이므로 쓰임이 다르다."
            },
            {
                question: `5. 다음 글의 내용을 한 문장으로 요약하고자 한다. 빈칸 (A), (B)에 들어갈 말로 가장 적절한 것은?<br><br>-> To overcome the (A)__________________ of practicing together in real-time, the band adopted a sequential, (B)__________________ method of creating their music.`,
                passage: `We tried to practice once a week through a video chat app, but we encountered several problems. First of all, we all lived in different time zones. This made it difficult to pick a convenient time for everyone to practice. Secondly, there were audio issues with the app, which caused us to be out of sync. So we put our heads together and devised a better way of playing music. We decided to assemble the songs as if we were working in a virtual music factory. After we decided on a song, I would play it on my keyboard and send it to Singaporean Sam. He would sing along with the keyboard and send the recording to American Sam. Then American Sam would add his guitar part, and Samantha would finish the song with her drumming.`,
                options: ["(A) benefits (B) synchronous", "(A) challenges (B) collaborative", "(A) conveniences (B) simultaneous", "(A) necessities (B) individual", "(A) solutions (B) virtual"],
                answer: 1,
                type: 'mc',
                explanation: "본문은 실시간 온라인 연습의 문제점(challenges)을 극복하기 위해, 각자 파트를 녹음해 합치는 협력적인(collaborative) 방식을 고안했다고 설명한다. 따라서 ②번이 문맥상 가장 적절하다."
            },
            {
                question: "6. 밑줄 친 <u>what we had achieved together</u>가 다음 글에서 의미하는 바로 가장 적절한 것은?",
                passage: `Shortly after we started the band, a global pandemic began. Since all of our normal lives were put on hold, we valued our online interactions more than ever. At one point, Singaporean Sam became ill and needed to spend some time in the hospital, so the band took a break. However, we still met from time to time by using the video chat app. We talked about our lives and did what we could do to cheer Singaporean Sam up. After Singaporean Sam recovered, we decided to write and record our own song. We called the song “Long-Distance Friendship,” and we posted it online. The song didn’t get much attention, but we were proud of <u>what we had achieved together</u>.`,
                options: ["The band's song finally received the public attention it deserved.", "The members successfully overcame geographical and personal challenges to create something meaningful.", "The online interactions helped them achieve a higher level of musical skill than practicing in person.", "The members created a song that was commercially successful despite the pandemic.", "The process of recording a song online was much easier and more efficient than they had expected."],
                answer: 1,
                type: 'mc',
                explanation: "밴드가 이룬 것은 단순히 노래 하나가 아니라, 팬데믹과 멤버의 투병이라는 지리적, 개인적 어려움을 함께 극복하고 의미 있는 결과물을 만들어낸 과정 전체를 의미한다. 따라서 ②번이 가장 포괄적이고 적절한 의미이다."
            },
            {
                bundle_id: '7-8',
                question: "7. 윗글의 밑줄 친 (A)~(E) 중, 문맥상 낱말의 쓰임이 적절하지 <u>않은</u> 것은?",
                passage: `Our band is something really special. (A)<u>Never did we expect</u> that we would build such strong relationships with one another. After all, we don’t come from (B)<u>similar</u> backgrounds, nor have we had the same life experiences. Yet we now talk about almost everything together, including the (C)<u>hardships</u> we face in life. I think it’s been really valuable to get advice from people with such different perspectives. We would all like to meet in person and play our music on the street someday. But even if that never (D)<u>happens</u>, we’ve still been incredibly lucky. Four random people became great friends simply because of our names. Life can be (E)<u>discouraging</u> sometimes!`,
                options: ["(A)", "(B)", "(C)", "(D)", "(E)"],
                answer: 4,
                type: 'mc',
                explanation: "글의 전체적인 내용은 이름이라는 우연 덕분에 멋진 친구가 된 긍정적인 경험을 이야기하고 있다. 따라서 마지막 문장은 '삶은 때때로 놀라울 수 있다(amazing)'는 내용이 되어야 문맥상 자연스럽다. `discouraging`(낙담시키는)은 반대 의미이다."
            },
            {
                bundle_id: '7-8',
                question: `8. 윗글의 내용과 일치하도록 다음 질문에 대한 대답의 빈칸에 들어갈 말로 가장 적절한 것은?<br><br>Q: What is the primary factor that makes "The Sam Lees" band so special, according to the narrator?<br><br>A: It is the fact that a deep friendship was formed among people who, despite having ______________________, learned to value their different perspectives.`,
                options: ["shared goals and similar hardships", "no common backgrounds or experiences", "a strong expectation of success from the start", "a long history of making music together", "the same name and identical life experiences"],
                answer: 1,
                type: 'mc',
                explanation: "본문에서 'don’t come from similar backgrounds, nor have we had the same life experiences'라고 명확히 언급했으므로, 공통된 배경이나 경험이 없음에도 불구하고 깊은 우정이 형성된 것이 밴드의 특별한 점이다."
            },
            {
                bundle_id: '9-10',
                question: "9. 윗글을 통해 추론할 수 있는 내용으로 가장 적절한 것은?",
                passage: `A lot of them accepted my friend request. While looking through their profiles, I noticed something interesting. Several Sam Lees of various ages and nationalities were interested in music. There was a Sam Lee in his mid-30s from Singapore who enjoyed singing and writing lyrics. And there was a 42-year-old Canadian Sam Lee who was a drummer. According to her profile, everyone called her Sam even though her real name was Samantha. Finally, there was an American Sam Lee who played the electric guitar. Suddenly, I had a great idea. I sent a message to all three. Here is what I wrote: “Hi! I’m Sam Lee from Korea. I write songs and play the keyboard. How about making a virtual band called The Sam Lees?” To my surprise, all three eagerly agreed. That was the start of our band’s journey.`,
                options: ["The narrator searched for musicians online to form a professional virtual band.", "The members of 'The Sam Lees' are all of the same age and nationality.", "The idea to form a band was a spontaneous decision triggered by a chance discovery.", "Samantha from Canada was initially hesitant to use her nickname for the band.", "The narrator was the only member who could write songs and play an instrument."],
                answer: 2,
                type: 'mc',
                explanation: "글쓴이는 'Just for fun'으로 친구 요청을 보냈고, 음악이라는 공통점을 '발견한(noticed)' 후에 밴드를 만들자는 '훌륭한 생각(a great idea)'을 떠올렸다. 이는 계획된 것이 아닌 우연한 발견에서 비롯된 즉흥적인 결정이었음을 보여준다."
            },
            {
                bundle_id: '9-10',
                question: "10. 윗글의 밑줄 친 부분 중 어법상 옳은 것을 <u>모두</u> 고른 것은?",
                passage: `While ⓐ<u>looked</u> through their profiles, I noticed something interesting. Several Sam Lees of various ages and nationalities ⓑ<u>was</u> interested in music. There was a Sam Lee in his mid-30s from Singapore who enjoyed singing and writing lyrics. And there was a 42-year-old Canadian Sam Lee who was a drummer. According to her profile, everyone ⓒ<u>called</u> her Sam even though her real name was Samantha. Finally, there was an American Sam Lee ⓓ<u>which</u> played the electric guitar. Suddenly, I had a great idea. I sent a message to all three. Here is ⓔ<u>what</u> I wrote.`,
                options: ["ⓐ, ⓓ", "ⓑ, ⓒ", "ⓒ, ⓔ", "ⓐ, ⓒ, ⓔ", "ⓑ, ⓓ, ⓔ"],
                answer: 2,
                type: 'mc',
                explanation: "ⓒ `called`는 5형식 동사로 올바르게 사용되었다. ⓔ `what I wrote`는 선행사를 포함하는 관계대명사 `what`으로 올바르게 사용되었다. ⓐ 분사구문으로 능동의 의미이므로 `looking`이 맞다. ⓑ 주어가 `Several Sam Lees`로 복수이므로 `were`가 맞다. ⓓ 선행사가 `an American Sam Lee`라는 사람이므로 관계대명사 `who`가 맞다."
            }
        ];

        const quizForm = document.getElementById('quiz-form');
        const circledNumbers = ['①', '②', '③', '④', '⑤'];
        const addedPassages = new Set();

        quizData.forEach((q, index) => {
            // Logic for bundled questions
            if (q.bundle_id && !addedPassages.has(q.bundle_id)) {
                const bundleLeadQuestion = quizData.find(item => item.bundle_id === q.bundle_id);
                const passageDiv = document.createElement('div');
                passageDiv.className = 'question-block';
                passageDiv.innerHTML = `
                    <div class="q-title"><b>[${q.bundle_id.replace('-', '~')}] ※ 다음 글을 읽고 물음에 답하시오.</b></div>
                    <div class="passage">${bundleLeadQuestion.passage.replace(/\n\n/g, '<br><br>')}</div>
                `;
                quizForm.appendChild(passageDiv);
                addedPassages.add(q.bundle_id);
            }

            const questionBlock = document.createElement('div');
            questionBlock.className = 'question-block';
            
            if (q.bundle_id) {
                questionBlock.style.borderTop = 'none';
                questionBlock.style.paddingTop = '0.5em';
            }
            
            let content = `<div class="q-title">${q.question}</div>`;
            
            if (q.passage && !q.bundle_id) {
                 content += `<div class="passage">${q.passage}</div>`;
            }
            
            if (q.question_follow_up) {
                content += `<div class="q-title">${q.question_follow_up}</div>`;
            }

            if (q.type === 'mc') {
                content += '<div class="options">';
                q.options.forEach((opt, i) => {
                    content += `<label><input type="radio" name="q${index}" value="${i}"> ${circledNumbers[i]} ${opt}</label>`;
                });
                content += '</div>';
            } else if (q.type === 'text') {
                content += `<input type="text" name="q${index}" placeholder="정답을 입력하세요.">`;
            }
            questionBlock.innerHTML = content;
            quizForm.appendChild(questionBlock);
        });

        function submitQuiz() {
            const studentName = document.getElementById('studentName').value || '익명';
            let score = 0;
            const feedbackDiv = document.getElementById('feedback');
            feedbackDiv.innerHTML = '';
            let resultString = `학생 ID: ${studentName}\n날짜: ${new Date().toLocaleDateString()}\n\n[채점 결과]\n\n`;

            quizData.forEach((q, index) => {
                const inputs = document.getElementsByName(`q${index}`);
                let userAnswerRaw;
                let userAnswerText = "답변 안 함";
                let isCorrect = false;

                if (q.type === 'mc') {
                    for (const input of inputs) {
                        if (input.checked) {
                            userAnswerRaw = parseInt(input.value);
                            userAnswerText = `${circledNumbers[userAnswerRaw]} ${q.options[userAnswerRaw]}`;
                            break;
                        }
                    }
                    isCorrect = (userAnswerRaw === q.answer);
                } else if (q.type === 'text') {
                    userAnswerRaw = inputs[0].value.trim();
                    userAnswerText = userAnswerRaw;
                    const correctAnswer = q.answer.toLowerCase().replace(/\.$/, '');
                    isCorrect = (userAnswerRaw.toLowerCase().replace(/\.$/, '') === correctAnswer);
                }
                
                const feedbackP = document.createElement('p');
                let resultLine;
                const correctAnswerText = q.type === 'mc' ? `${circledNumbers[q.answer]} ${q.options[q.answer]}` : q.answer;

                const detailsBlock = `
                    <details class="explanation-details">
                        <summary>해설 보기</summary>
                        <div class="explanation-content">${q.explanation}</div>
                    </details>`;
                
                if (isCorrect) {
                    score++;
                    feedbackP.innerHTML = `${index + 1}번: <span class="correct">정답 (1)</span> ${detailsBlock}`;
                    resultLine = `문제 번호: ${index + 1}\t정오 여부: 1\n`;
                } else {
                    feedbackP.innerHTML = `${index + 1}번: <span class="incorrect">오답 (0)</span> (정답: ${correctAnswerText}) ${detailsBlock}`;
                    resultLine = `문제 번호: ${index + 1}\t정오 여부: 0\t학생이 고른 오답: ${userAnswerText}\n`;
                }
                feedbackDiv.appendChild(feedbackP);
                resultString += resultLine;
            });

            const finalScore = (score / quizData.length) * 100;
            document.getElementById('score').innerText = `총점: ${score} / ${quizData.length} (${finalScore.toFixed(1)}점)`;
            document.getElementById('results').style.display = 'block';
            
            resultString += `\n총점: ${score}/${quizData.length} (${finalScore.toFixed(1)}점)`;
            document.getElementById('resultText').value = resultString;
        }
    </script>
</body>
</html>