<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>중3 최서현 - 약점 보완 맞춤형 문제</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; margin: 0; padding: 2em; background-color: #f4f7f9; color: #333; }
        .quiz-container { max-width: 800px; margin: auto; background: white; padding: 2em; border-radius: 10px; box-shadow: 0 0 15px rgba(0,0,0,0.05); }
        h1, h2 { text-align: center; color: #2c3e50; }
        .info-block { margin-bottom: 2em; padding-bottom: 1em; border-bottom: 1px solid #e0e0e0; }
        .question-block { margin-bottom: 2.5em; border-top: 1px solid #e0e0e0; padding-top: 1.5em; }
        .question-block .q-title { font-weight: bold; margin-bottom: 1em; line-height: 1.5; }
        .passage { background-color: #f8f9fa; border-left: 4px solid #007bff; padding: 1em; margin: 1em 0; font-size: 0.95em; color: #555; white-space: pre-wrap; line-height: 1.6; }
        .options label { display: block; margin-bottom: 0.8em; cursor: pointer; padding: 0.5em; border-radius: 5px; transition: background-color 0.2s; }
        .options label:hover { background-color: #e9ecef; }
        input[type="radio"], input[type="text"] { margin-right: 0.5em; vertical-align: middle; }
        input[type="text"] { width: 90%; padding: 0.5em; border: 1px solid #ccc; border-radius: 4px; }
        .submit-btn { display: block; width: 100%; padding: 1em; font-size: 1.1em; background-color: #28a745; color: white; border: none; border-radius: 5px; cursor: pointer; transition: background-color 0.2s; margin-top: 2em; }
        .submit-btn:hover { background-color: #218838; }
        .results-area { margin-top: 2em; padding: 1.5em; background-color: #eef8ff; border: 1px solid #b8dcf1; border-radius: 8px; }
        textarea { width: 100%; height: 200px; margin-top: 1em; font-family: monospace; }
        .correct { color: green; font-weight: bold; }
        .incorrect { color: red; font-weight: bold; }
        .explanation-details { margin-top: 10px; font-size: 0.9em; }
        .explanation-details summary { cursor: pointer; color: #0056b3; font-weight: normal; display: inline-block; padding: 2px 6px; border-radius: 4px; background-color: #e9ecef; }
        .explanation-details[open] summary { background-color: #007bff; color: white; }
        .explanation-content { margin-top: 8px; padding: 10px; background-color: #f8f9fa; border-radius: 4px; color: #444; line-height: 1.6; }
    </style>
</head>
<body>
    <div class="quiz-container">
        <h1>중3 영어 6과 약점 보완 퀴즈</h1>
        <div class="info-block">
            <label for="studentName">이름:</label>
            <input type="text" id="studentName" placeholder="이름을 입력하세요" value="중3_최서현">
        </div>
        <div id="quiz-form"></div>
        <button class="submit-btn" onclick="submitQuiz()">결과 확인 및 복사하기</button>
        <div id="results" class="results-area" style="display:none;">
            <h2>📝 채점 결과</h2>
            <p id="score"></p>
            <div id="feedback"></div>
            <h3>📋 결과 복사하기</h3>
            <p>아래 내용을 복사하여 선생님께 제출하세요.</p>
            <textarea id="resultText" readonly></textarea>
        </div>
    </div>

    <script>
        const quizData = [
            {
                question: `다음 글의 (A), (B), (C)의 네모 안에서 어법에 맞는 표현으로 가장 적절한 것은?`,
                passage: `Have you heard of the expression, "Art imitates nature"? Many artists get their ideas and inspirations from the world around them. This is because the natural world is a beautiful place. The shapes in nature are very (A) [pleasing / pleased] to the eye. For example, look at the egg on the left. Isn’t it beautiful? It is round and delicate, yet (B) [strong enough / enough strong] to protect its contents. Can you imagine a building that looks like an egg? Such a building actually (C) [exists / existing] in London.`,
                options: ["(A) pleasing (B) strong enough (C) exists", "(A) pleasing (B) enough strong (C) existing", "(A) pleasing (B) strong enough (C) existing", "(A) pleased (B) strong enough (C) exists", "(A) pleased (B) enough strong (C) existing"],
                answer: 0,
                type: 'mc',
                explanation: "(A) 'The shapes'가 감정을 유발하는 주체이므로 현재분사 'pleasing'이 맞다. (B) 'enough'는 형용사를 뒤에서 수식하므로 'strong enough'가 올바른 어순이다. (C) 문장의 본동사 자리이므로 3인칭 단수 현재형 동사 'exists'가 와야 한다."
            },
            {
                question: "다음 글의 밑줄 친 부분 중, 어법상 옳지 <u>않은</u> 것은?",
                passage: `Nature has inspired many architects around the world. This is the Sagrada Familia in Spain. It is one of the most famous ①<u>churches</u> in the world. Look at the beautiful tall columns inside the church. They look like trees, ②<u>don't they</u>? The famous architect, Antoni Gaudi, used the shape of trees in the Sagrada Familia. That's ③<u>how</u> he brought the beauty of nature indoors. In the first two examples, we can easily see ④<u>what</u> inspired the architect. But in the next example from Australia, this is not so ⑤<u>obviousness</u>.`,
                options: ["①", "②", "③", "④", "⑤"],
                answer: 4,
                type: 'mc',
                explanation: "⑤번은 be동사 'is'의 보어 자리이므로 형용사인 'obvious'가 와야 한다. 'obviousness'는 명사이므로 어법상 틀렸다."
            },
            {
                question: `다음 글의 밑줄 친 부분 중 어법상 옳은 것을 <u>모두</u> 고른 것은?`,
                passage: `What about Korea? Have you ever ⓐ<u>been</u> to Dongdaemun Design Plaza in Seoul? Many people think that the building ⓑ<u>look</u> like a giant spaceship. But the architect, Zaha Hadid, took the curved lines from nature so that city people could ⓒ<u>enjoy them</u>. Thanks to its special design, it has become a popular tourist attraction in Seoul. As you can see, many buildings try ⓓ<u>to capture</u> the beauty of nature in their design. They are perfect examples of “Nature meets city.” If you ⓔ<u>are</u> an architect, what would you choose from nature?`,
                options: ["ⓐ, ⓒ, ⓓ", "ⓐ, ⓓ, ⓔ", "ⓑ, ⓒ, ⓔ", "ⓑ, ⓓ", "ⓒ, ⓔ"],
                answer: 0,
                type: 'mc',
                explanation: "ⓑ는 주어가 3인칭 단수(the building)이므로 'looks'가 되어야 한다. ⓔ는 가정법 과거 구문이므로 'were'가 오는 것이 일반적이다. 따라서 ⓐ, ⓒ, ⓓ가 어법상 옳다."
            },
            {
                question: "다음 중 어법상 옳지 <u>않은</u> 문장은?",
                passage: ``,
                options: [
                    "The room was dark, so I turned on the lights so that I could see better.",
                    "He is not tall enough to be a professional basketball player.",
                    "She studies hard so that she can pass the difficult exam.",
                    "The problem was enough simple for the young student to solve.",
                    "The architect, Zaha Hadid, took the curved lines from nature."
                ],
                answer: 3,
                type: 'mc',
                explanation: "enough'가 부사로서 형용사를 수식할 때는 형용사 뒤에 위치해야 한다. 따라서 'simple enough'가 올바른 어순이다."
            },
            {
                question: "글의 흐름으로 보아, 주어진 문장이 들어가기에 가장 적절한 곳은?",
                passage: `In the first two examples, we can easily see what inspired the architect. ( ① ) But in the next example from Australia, this is not so obvious. ( ② ) Jørn Utzon, the architect of the Sydney Opera House, took a shape from nature and added his imagination. ( ③ ) Can you guess what inspired him? Many people think that it is the waves in the ocean or a sailing boat. ( ④ ) Look at the roof closely. Can you see the peels of an orange? ( ⑤ ) When orange lights are shone on the building, you can see the peels more clearly.\n\n> But interestingly, the inspiration came from an orange.`,
                options: ["①", "②", "③", "④", "⑤"],
                answer: 3,
                type: 'mc',
                explanation: "주어진 문장은 오렌지에서 영감을 얻었다는 반전 내용이다. 따라서 많은 사람들이 파도나 돛단배라고 생각한다는 내용(④ 앞)과 지붕의 오렌지 껍질을 보라는 내용(④ 뒤) 사이에 들어가는 것이 가장 자연스럽다."
            },
            {
                question: "다음 글의 밑줄 친 낱말의 쓰임이 문맥상 적절하지 <u>않은</u> 것은?",
                passage: `Nature has ①<u>inspired</u> many architects around the world. This is the Sagrada Familia in Spain. It is one of the most famous churches in the world. Look at the beautiful tall columns inside the church. They look like trees, don't they? The famous architect, Antoni Gaudi, used the shape of trees in the Sagrada Familia. That's how he ②<u>brought</u> the beauty of nature indoors. Because Gaudi recognized the ③<u>superiority</u> of natural forms, he was able to design a building that is both beautiful and ④<u>functional</u>. The use of natural shapes allowed him to create a unique space that feels both grand and ⑤<u>artificial</u>.`,
                options: ["①", "②", "③", "④", "⑤"],
                answer: 4,
                type: 'mc',
                explanation: "글의 전체 맥락은 자연의 형태를 활용하여 아름답고 기능적인 건물을 만들었다는 긍정적인 내용이다. 따라서 마지막 문장의 'artificial(인공적인)'은 '자연스러운(natural)' 또는 '유기적인(organic)'과 같은 긍정적인 단어로 바뀌어야 흐름에 맞다."
            },
            {
                question: "다음 글의 빈칸에 들어갈 말로 가장 적절한 것은?",
                passage: `Have you heard of the expression, “Art imitates nature”? Many artists get their ideas and inspirations from the world around them. This is because the natural world is a beautiful place. The shapes in nature are very pleasing to the eye. ____________________, look at the egg on the left. Isn’t it beautiful? It is round and delicate, yet strong enough to protect its contents. Can you imagine a building that looks like an egg? Such a building actually exists in London.`,
                options: ["However", "For example", "In conclusion", "As a result", "In other words"],
                answer: 1,
                type: 'mc',
                explanation: "빈칸 앞에는 '자연의 형태는 눈을 즐겁게 한다'는 일반적인 진술이 나오고, 뒤에는 '달걀'이라는 구체적인 사례가 나온다. 따라서 '예를 들어(For example)'가 가장 적절하다."
            },
            {
                question: "다음 글을 읽고, 글의 내용과 일치하지 <u>않는</u> 것은?",
                passage: `Jørn Utzon, the architect of the Sydney Opera House, took a shape from nature and added his imagination. Can you guess what inspired him? Many people think that it is the waves in the ocean or a sailing boat. But interestingly, the inspiration came from an orange. Look at the roof closely. Can you see the peels of an orange? When orange lights are shone on the building, you can see the peels more clearly.`,
                options: [
                    "The architect of the Sydney Opera House was Jørn Utzon.",
                    "Many people correctly guess what inspired the architect.",
                    "The design of the Sydney Opera House was inspired by nature.",
                    "The true inspiration for the building's design came from a type of fruit.",
                    "The shape of the roof can be seen more clearly under orange lights."
                ],
                answer: 1,
                type: 'mc',
                explanation: "본문에서 'Many people think that it is the waves... But interestingly, the inspiration came from an orange.'라고 언급하였으므로, 많은 사람들이 영감의 원천을 정확하게 추측하지 못했다는 것을 알 수 있다."
            },
            {
                question: "다음 대화의 빈칸에 들어갈 말로 가장 적절한 것은?",
                passage: `B: The tickets for the World Music Concert are on sale now.\nG: Really? Let's book the tickets online right away.\nB: Okay. Let's see.... There are still tickets left for November 5th.\nG: Sounds good. Let's get two student tickets.\nB: _________________________________\nG: Not at all. But it says that you are not allowed to bring children under 8.\nB: No problem. He's 10.\nG: Okay, I'll add one child ticket. The total price is 25 dollars.`,
                options: ["How much is a ticket for my brother?", "Can you book the tickets for me?", "Do you mind if I bring my little brother?", "I'm really looking forward to the concert.", "You're not allowed to book tickets online."],
                answer: 2,
                type: 'mc',
                explanation: "빈칸 뒤에 이어지는 응답 'Not at all. But...'은 허락을 구하는 표현에 대한 답변으로 자연스럽다. 'Do you mind if ~?' (~해도 괜찮을까요?)는 허락을 구하는 표현이므로 문맥상 가장 적절하다."
            },
            {
                question: "다음 대화의 빈칸에 들어갈 말로 가장 적절하지 <u>않은</u> 것은?",
                passage: `Daniel: Sumin, my train is leaving in five minutes.\nSumin: I hope you enjoyed your trip, Daniel.\nDaniel: Of course, I did.\nSumin: Which place did you like most in my town?\nDaniel: I liked the folk village most. I really liked walking around in hanbok.\nSumin: I'm glad to hear that.\nDaniel: Thank you for showing me around.\nSumin: _________________________________ Have a safe trip.`,
                options: ["It was my pleasure.", "You're welcome.", "No problem.", "Don't mention it.", "I'm sorry to hear that."],
                answer: 4,
                type: 'mc',
                explanation: "빈칸은 '구경시켜 줘서 고맙다'는 감사 인사에 대한 응답 자리이다. ①, ②, ③, ④는 모두 '천만에요'라는 의미로 사용될 수 있지만, ⑤ '그 말을 들으니 유감이다'는 전혀 다른 의미이므로 적절하지 않다."
            }
        ];

        const quizForm = document.getElementById('quiz-form');
        const circledNumbers = ['①', '②', '③', '④', '⑤'];

        quizData.forEach((q, index) => {
            const questionBlock = document.createElement('div');
            questionBlock.className = 'question-block';
            
            let content = `<div class="q-title">${index + 1}. ${q.question}</div>`;
            
            if (q.passage) {
                // Passages with markdown-style blockquotes (>) are handled here
                const passageHtml = q.passage.split('\n').map(line => {
                    if (line.startsWith('>')) {
                        return `<blockquote>${line.substring(1).trim()}</blockquote>`;
                    }
                    return line;
                }).join('\n');
                content += `<div class="passage">${passageHtml}</div>`;
            }

            if (q.type === 'mc') {
                content += '<div class="options">';
                q.options.forEach((opt, i) => {
                    content += `<label><input type="radio" name="q${index}" value="${i}"> ${circledNumbers[i]} ${opt}</label>`;
                });
                content += '</div>';
            } else if (q.type === 'text') {
                content += `<input type="text" name="q${index}" placeholder="정답을 입력하세요.">`;
            }
            questionBlock.innerHTML = content;
            quizForm.appendChild(questionBlock);
        });

        function submitQuiz() {
            const studentName = document.getElementById('studentName').value || '익명';
            let score = 0;
            const feedbackDiv = document.getElementById('feedback');
            feedbackDiv.innerHTML = '';
            let resultString = `학생 ID: ${studentName}\n날짜: ${new Date().toLocaleDateString()}\n\n[채점 결과]\n\n`;

            quizData.forEach((q, index) => {
                const inputs = document.getElementsByName(`q${index}`);
                let userAnswerRaw;
                let userAnswerText = "답변 안 함";
                let isCorrect = false;

                if (q.type === 'mc') {
                    for (const input of inputs) {
                        if (input.checked) {
                            userAnswerRaw = parseInt(input.value);
                            userAnswerText = `${circledNumbers[userAnswerRaw]} ${q.options[userAnswerRaw]}`;
                            break;
                        }
                    }
                    isCorrect = (userAnswerRaw === q.answer);
                } else if (q.type === 'text') {
                    userAnswerRaw = inputs[0].value.trim();
                    userAnswerText = userAnswerRaw;
                    const correctAnswer = q.answer.toLowerCase().replace(/\.$/, '');
                    isCorrect = (userAnswerRaw.toLowerCase().replace(/\.$/, '') === correctAnswer);
                }
                
                const feedbackP = document.createElement('p');
                let resultLine;
                const correctAnswerText = q.type === 'mc' ? `${circledNumbers[q.answer]} ${q.options[q.answer]}` : q.answer;

                const detailsBlock = `
                    <details class="explanation-details">
                        <summary>해설 보기</summary>
                        <div class="explanation-content">${q.explanation}</div>
                    </details>`;
                
                if (isCorrect) {
                    score++;
                    feedbackP.innerHTML = `${index + 1}번: <span class="correct">정답 (1)</span> ${detailsBlock}`;
                    resultLine = `문제 번호: ${index + 1}\t정오 여부: 1\n`;
                } else {
                    feedbackP.innerHTML = `${index + 1}번: <span class="incorrect">오답 (0)</span> (정답: ${correctAnswerText}) ${detailsBlock}`;
                    const chosenOption = userAnswerRaw !== undefined ? q.options[userAnswerRaw] : '미선택';
                    resultLine = `문제 번호: ${index + 1}\t정오 여부: 0\t학생이 고른 오답: ${circledNumbers[userAnswerRaw]}\n`;
                }
                feedbackDiv.appendChild(feedbackP);
                resultString += resultLine;
            });

            const finalScore = (score / quizData.length) * 100;
            document.getElementById('score').innerText = `총점: ${score} / ${quizData.length} (${finalScore.toFixed(1)}점)`;
            document.getElementById('results').style.display = 'block';
            
            resultString += `\n총점: ${score}/${quizData.length} (${finalScore.toFixed(1)}점)`;
            document.getElementById('resultText').value = resultString;
        }
    </script>
</body>
</html>
