<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ê³ 2_ì§€ì„œì¸ í•™ìƒ Â· ë‚´ì‹  í•™ìŠµ ì§€ì‹ë§µ (2025-09-11)</title>
  <style>
   :root{
   --bg: #f6f7fb; --card:#ffffff; --border:#e6e8ef; --text:#0f172a; --muted:#64748b;
   --indigo:#4f46e5; --green:#16a34a; --yellow:#f59e0b; --red:#ef4444; --blue:#3b82f6;
   --green-100:#dcfce7; --yellow-100:#fef9c3; --red-100:#fee2e2; --gray-100:#f1f5f9; --blue-100:#dbeafe;
   }
   *{box-sizing:border-box} body{margin:0;background:linear-gradient(180deg,#ffffff, var(--bg));color:var(--text);font-family: ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans KR",Apple SD Gothic Neo,Pretendard,Helvetica,Arial,sans-serif}
   .container{max-width:1120px;margin:0 auto;padding:24px}
   .row{display:flex;gap:12px;flex-wrap:wrap;align-items:center;}
   .between{display:flex;align-items:center;justify-content:space-between;gap:12px}
   .card{background:var(--card);border:1px solid var(--border);border-radius:20px;box-shadow:0 4px 12px rgba(15,23,42,.04)}
   .p-16{padding:16px}.p-20{padding:20px}.p-24{padding:24px}
   .btn{border:1px solid var(--border);background:#fff;border-radius:12px;padding:10px 14px;cursor:pointer}
   .btn.active{background:var(--indigo);color:#fff;border-color:var(--indigo)}
   .input{border:1px solid var(--border);background:#fff;border-radius:12px;padding:10px 12px;min-width:260px}
   .grid{display:grid;gap:16px}
   @media(min-width:640px){.grid-2{grid-template-columns:repeat(2,minmax(0,1fr));}}
   @media(min-width:1024px){.grid-3{grid-template-columns:repeat(3,minmax(0,1fr));}}
   .stat{min-width:240px}
   .hbar{height:8px;background:var(--gray-100);border-radius:999px;overflow:hidden}
   .hbar > span{display:block;height:100%}
   .pill{padding:3px 8px;border-radius:999px;font-size:11px;font-weight:700;display:inline-block}
   .legend .pill{border:1px solid var(--border);}
   .muted{color:var(--muted)}
   .title{font-weight:800;letter-spacing:-.3px}
   .sub{font-size:12px}
   .kc-card{display:flex;gap:12px}
   .kc-ico{flex:0 0 auto;width:36px;height:36px;border-radius:12px;background:#f8fafc;display:grid;place-items:center;border:1px solid var(--border)}
   .small{font-size:12px}
   .type-card{display:flex;align-items:flex-start;justify-content:space-between;gap:12px}
   .kbd{font-variant-numeric:tabular-nums}
   .footer{font-size:12px;color:var(--muted);display:flex;gap:8px;align-items:flex-start}
   .feedback-section h3 { font-size: 20px; margin: 0 0 16px 0; display: flex; align-items: center; gap: 8px; }
   .feedback-section h4 { font-size: 16px; margin: 24px 0 8px 0; color: var(--indigo); border-left: 3px solid var(--indigo); padding-left: 8px;}
   .feedback-section .summary { font-size: 14px; color: var(--muted); margin-top: -12px; margin-bottom: 24px; }
   .feedback-section hr { border: 0; border-top: 1px solid var(--border); margin: 24px 0; }
   .feedback-section blockquote { margin: 12px 0; padding: 12px; background-color: var(--gray-100); border-left: 4px solid var(--border); border-radius: 8px; font-size: 13px; }
   .feedback-section .analysis { margin-top: 8px; }
   .feedback-section .analysis strong { color: var(--text); }
  </style>
</head>
<body>
  <div class="container">
    <div class="between" style="gap:16px;flex-wrap:wrap">
      <div>
        <div id="mainTitle" class="title" style="font-size:24px">24ë…„ 9ì›” ê³ 2 ëª¨ì˜ê³ ì‚¬ <span style="color:var(--indigo)">KC & ìœ í˜• ì„±ì·¨ë„</span> ëŒ€ì‹œë³´ë“œ</div>
        <div id="subHeader" class="sub muted">ì´ë¦„: <strong>ê³ 2_ì§€ì„œì¸</strong> Â· ì‹œí—˜ì¼: <strong>2025-09-11</strong> Â· êµì¬: 2024ë…„ 9ì›” ê³ 2 ëª¨ì˜ê³ ì‚¬</div>
      </div>
      <div class="row">
        <button id="printBtn" class="btn">ë‚´ë³´ë‚´ê¸°/ì¸ì‡„</button>
      </div>
    </div>

    <div class="row" style="margin-top:16px;align-items:center">
      <div class="row">
        <button data-view="all" class="btn view-btn active" aria-pressed="true">ì „ì²´</button>
        <button data-view="core" class="btn view-btn" aria-pressed="false">ê¸°ë°˜</button>
        <button data-view="reading" class="btn view-btn" aria-pressed="false">ë³¸ë¬¸</button>
        <button data-view="types" class="btn view-btn" aria-pressed="false">ë¬¸ì œ ìœ í˜•</button>
        <button data-view="feedback" class="btn view-btn" aria-pressed="false">í”¼ë“œë°±</button>
      </div>
      <div style="flex:1"></div>
      <input id="search" class="input" placeholder="KC ì½”ë“œ/ì´ë¦„/ì„¤ëª…/ìœ í˜• ê²€ìƒ‰" />
    </div>

    <div class="grid grid-3" style="margin-top:16px">
      <div class="card p-16 stat">
        <div class="muted small">KC í‰ê·  ì„±ì·¨ë„</div>
        <div id="avgKC" class="title" style="font-size:22px;margin-top:4px">â€”</div>
        <div class="hbar" style="margin-top:8px"><span id="avgKCBar" style="width:0"></span></div>
      </div>
      <div class="card p-16 stat">
        <div class="muted small">ë¬¸ì œ ìœ í˜• í‰ê·  ì„±ì·¨ë„</div>
        <div id="avgType" class="title" style="font-size:22px;margin-top:4px">â€”</div>
        <div class="hbar" style="margin-top:8px"><span id="avgTypeBar" style="width:0"></span></div>
      </div>
       <div class="card p-16 stat">
        <div class="muted small">ë¬¸ì œ ì •ë‹µë¥ </div>
        <div class="row" style="align-items:baseline;gap:6px">
          <div id="avgCorrectRate" class="title" style="font-size:22px;margin-top:4px">â€”</div>
          <div id="totalCount" class="muted" style="font-weight:600; font-size: 14px;"></div>
        </div>
        <div class="hbar" style="margin-top:8px"><span id="avgCorrectRateBar" style="width:0"></span></div>
      </div>
    </div>

    <div class="legend row card p-16" style="margin-top:16px">
      <div class="muted small">ë²”ë¡€:</div>
      <span class="pill" style="background:var(--green-100);color:var(--green)">ìš°ìˆ˜ â‰¥ 85%</span>
      <span class="pill" style="background:var(--yellow-100);color:var(--yellow)">60â€“84%</span>
      <span class="pill" style="background:var(--red-100);color:var(--red)">1â€“59%</span>
      <span class="pill" style="background:#e5e7eb;color:#374151">ë¯¸í‰ê°€</span>
    </div>

    <div id="mount"></div>

    <section class="card p-20" style="margin-top:16px" id="focusBox">
      <div class="between">
        <div>
          <div class="title" style="font-size:18px">ğŸ“Œ ì§‘ì¤‘ ë³´ì™„ ì˜ì—­ (ìƒìœ„ 3ê°œ KC)</div>
          <div class="sub muted">ì ìˆ˜ê°€ ë‚®ì€ ìˆœìœ¼ë¡œ ìë™ ì¶”ì²œ</div>
        </div>
      </div>
      <ol id="focusList" class="small" style="margin-top:8px;padding-left:18px"></ol>
    </section>

    <div class="footer" style="margin-top:16px">
      <span>ìƒ‰ìƒ ê¸°ì¤€: ğŸŸ¢ 85% ì´ìƒ, ğŸŸ¡ 60â€“84%, ğŸŸ¥ 1â€“59%, íšŒìƒ‰=ë¯¸í‰ê°€. ê²€ìƒ‰ ë˜ëŠ” ìƒë‹¨ ë²„íŠ¼ìœ¼ë¡œ ë·°ë¥¼ ì „í™˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¸ì‡„ ë²„íŠ¼ìœ¼ë¡œ PDF ì €ì¥ ê°€ëŠ¥.</span>
    </div>
  </div>

  <script>
  (() => { 'use strict';
    // ======== ë°ì´í„° ì„¤ì • ========
    const studentName = "ê³ 2_ì§€ì„œì¸";
    const examDate = "2025-09-11";

    const kcScores = {
      "KC-24-9-h2-18": { score: 100, correct: 13, total: 13 },
      "KC-24-9-h2-19": { score: 100, correct: 13, total: 13 },
      "KC-24-9-h2-20": { score: 93.75, correct: 12, total: 13 },
      "KC-24-9-h2-21": { score: 92.31, correct: 12, total: 13 },
      "KC-24-9-h2-22": { score: 100, correct: 13, total: 13 },
      "KC-24-9-h2-23": { score: 100, correct: 13, total: 13 },
      "KC-24-9-h2-24": { score: 100, correct: 13, total: 13 },
      "KC-24-9-h2-26": { score: 92.31, correct: 12, total: 13 },
      "KC-24-9-h2-29": { score: 100, correct: 13, total: 13 },
      "KC-24-9-h2-30": { score: 100, correct: 13, total: 13 },
      "KC-24-9-h2-31": { score: 85.94, correct: 11, total: 13 },
      "KC-24-9-h2-32": { score: 100, correct: 13, total: 13 },
      "KC-24-9-h2-33": { score: 100, correct: 13, total: 13 },
      "KC-24-9-h2-34": { score: 100, correct: 13, total: 13 },
      "KC-24-9-h2-35": { score: 100, correct: 13, total: 13 },
      "KC-24-9-h2-36": { score: 92.42, correct: 12, total: 13 },
      "KC-24-9-h2-37": { score: 84.21, correct: 11, total: 13 },
      "KC-24-9-h2-38": { score: 92.31, correct: 12, total: 13 },
      "KC-24-9-h2-39": { score: 91.53, correct: 11, total: 12 },
      "KC-24-9-h2-40": { score: 93.22, correct: 11, total: 12 },
      "KC-24-9-h2-4142": { score: 83.33, correct: 10, total: 12 }
    };

    const typeScores = [
      { code:"251", name:"ì˜³ê³  ê·¸ë¦„ íŒë‹¨í•˜ê¸°", area:"ë¬¸ë²•/ì–´ë²•", score:100.0, kcs:["KC-24-9-h2-4142"], correct: 1, total: 1 },
      { code:"311", name:"í•µì‹¬ ë‚´ìš© íŒŒì•…í•˜ê¸°", area:"ë³¸ë¬¸", score:97.82, kcs:["KC-24-9-h2-18", "KC-24-9-h2-19", "KC-24-9-h2-20", "KC-24-9-h2-21"], correct: 100, total: 102 },
      { code:"312", name:"ì„¸ë¶€ ë‚´ìš© íŒŒì•…í•˜ê¸°", area:"ë³¸ë¬¸", score:93.19, kcs:["KC-24-9-h2-26", "KC-24-9-h2-30", "KC-24-9-h2-4142"], correct: 64, total: 69 },
      { code:"314", name:"ì§€ë¬¸ ìš”ì•½í•˜ê¸°", area:"ë³¸ë¬¸", score:94.41, kcs:["KC-24-9-h2-30", "KC-24-9-h2-31", "KC-24-9-h2-32"], correct: 83, total: 88 },
      { code:"321", name:"ë¬¸ë§¥ íŒŒì•…í•˜ê¸° (ë¬´ê´€í•œ ë¬¸ì¥)", area:"ë³¸ë¬¸", score:0.0, kcs:["KC-24-9-h2-20"], correct: 0, total: 1 },
      { code:"324", name:"ë°‘ì¤„ ì¹œ ë¶€ë¶„ ì¶”ë¡ í•˜ê¸°", area:"ë³¸ë¬¸", score:100.0, kcs:["KC-24-9-h2-23", "KC-24-9-h2-34"], correct: 5, total: 5 },
      { code:"342", name:"ì˜ì–´ë¡œ í‘œí˜„í•˜ê¸°", area:"ë³¸ë¬¸", score:100.0, kcs:["KC-24-9-h2-18"], correct: 4, total: 4 }
    ];
    
    const totalCorrectAll = typeScores.reduce((sum, t) => sum + (t.correct || 0), 0);
    const totalProblemsAll = typeScores.reduce((sum, t) => sum + (t.total || 0), 0);

    const kcMeta = {
      "KC-24-9-h2-18": { area: "ë³¸ë¬¸", label: "ì•„íŒŒíŠ¸ ì»¤ë®¤ë‹ˆí‹° ì •ì› ë³´ìˆ˜ ìš”ì²­", desc: "ì •ì› ì‹œì„¤ë¬¼ ë¬¸ì œì  ì§€ì  ë° ë³´ìˆ˜ ìš”ì²­, ë¹„ìš© ë¶€ë‹´ ì˜ì‚¬ ì „ë‹¬" },
      "KC-24-9-h2-19": { area: "ë³¸ë¬¸", label: "ì…êµ­ ì‹¬ì‚¬ì—ì„œì˜ ì‹¬ê²½ ë³€í™”", desc: "ì—„ê²©í•œ ì‹¬ì‚¬ê´€ìœ¼ë¡œ ì¸í•œ ë¶ˆì•ˆê°ì´ í†µê³¼ í›„ ì•ˆë„ê°ìœ¼ë¡œ ë°”ë€ŒëŠ” ê³¼ì •" },
      "KC-24-9-h2-20": { area: "ë³¸ë¬¸", label: "ìë…€ì˜ ê±±ì • í†µì œ ë°©ë²• êµìœ¡", desc: "ê±±ì •ì€ ì˜ì§€ë¡œ í†µì œ ê°€ëŠ¥í•œ ê°ì •ì„ì„ ì¸ì§€ì‹œí‚¤ê³  í–‰ë™ ë³€í™” ìœ ë„" },
      "KC-24-9-h2-21": { area: "ë³¸ë¬¸", label: "ì°½ì˜ì  ì¡°ì§ ë¬¸í™”ì˜ í•„ìš”ì„±", desc: "ê·œì¹™(êµí–¥ì•…ë‹¨)ì—ì„œ ë²—ì–´ë‚˜ ììœ¨ê³¼ ìœ ì—°ì„±(ì¬ì¦ˆ ë°´ë“œ)ìœ¼ë¡œ í˜ì‹  ì¶”êµ¬" },
      "KC-24-9-h2-22": { area: "ë³¸ë¬¸", label: "ìœ„ê¸° ìƒí™© ì† ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì •ë³´ì›ì˜ ì¤‘ìš”ì„±", desc: "ê³µì‹ ë ¥ ìˆëŠ” ì •ë³´ì› ë¶€ì¬ ì‹œ ì†Œë¬¸ í™•ì‚°ì˜ ìœ„í—˜ì„±" },
      "KC-24-9-h2-23": { area: "ë³¸ë¬¸", label: "ê³¼í•™ì˜ ë³¸ì§ˆì— ëŒ€í•œ ë‘ ê°€ì§€ ìƒë°˜ëœ ê´€ì ", desc: "ê³¼í•™ì„ 'ì—­ì‚¬ì  í™œë™'ìœ¼ë¡œ ë³´ëŠ” ê´€ì ê³¼ 'ê°ê´€ì  íƒêµ¬'ë¡œ ë³´ëŠ” ê´€ì  ëŒ€ì¡°" },
      "KC-24-9-h2-24": { area: "ë³¸ë¬¸", label: "íšì¼ì ì¸ ë²•ì  ì±…ì„ ì—°ë ¹ ê¸°ì¤€ì˜ ë¬¸ì œì ", desc: "ê°œì¸ë³„ ì •ì‹  ë°œë‹¬ ì†ë„ ì°¨ì´ë¥¼ ê³ ë ¤í•˜ì§€ ì•ŠëŠ” íšì¼ì  ì—°ë ¹ ê¸°ì¤€ ë¹„íŒ" },
      "KC-24-9-h2-26": { area: "ë³¸ë¬¸", label: "ìƒë¬¼í•™ì Charles Eltonì˜ ìƒì• ì™€ ì—…ì ", desc: "í˜„ëŒ€ ìƒíƒœí•™ í˜•ì„±ì— ê¸°ì—¬í•œ Eltonì˜ í•™ì—…, ê²½ë ¥, ì €ìˆ  í™œë™" },
      "KC-24-9-h2-29": { area: "ë³¸ë¬¸", label: "ìƒíƒœ ì¤‘ì‹¬ ê²½ì œê´€ìœ¼ë¡œì˜ ì‹œê¸‰í•œ ì „í™˜ ì´‰êµ¬", desc: "ì¸ê°„ ì¤‘ì‹¬ ê²½ì œê´€ì—ì„œ ìƒíƒœ ì¤‘ì‹¬ ê²½ì œê´€ìœ¼ë¡œì˜ ê´€ì  ì „í™˜ í•„ìš”ì„± ê°•ì¡°" },
      "KC-24-9-h2-30": { area: "ë³¸ë¬¸", label: "ì´ˆê¸° ì¸ë¥˜ ì§„í™”ì˜ í•µì‹¬ ë™ë ¥", desc: "ì§ë¦½ ë³´í–‰, ë„êµ¬ ì œì‘, ê³ ì—ë„ˆì§€ ì‹ë‹¨ì´ ë‡Œ ë°œë‹¬ê³¼ ì˜ì—­ í™•ì¥ìœ¼ë¡œ ì´ì–´ì§„ ê³¼ì •" },
      "KC-24-9-h2-31": { area: "ë³¸ë¬¸", label: "ê³¼ì •ì˜ ê³µì •ì„±ê³¼ ì‹¤íŒ¨ì˜ ì‹¬ë¦¬ì  ê·€ì¸", desc: "ê³¼ì •ì˜ ê³µì •ì„± ì—¬ë¶€ì— ë”°ë¼ ì‹¤íŒ¨ ì›ì¸ì„ ì™¸ë¶€ í˜¹ì€ ë‚´ë¶€ë¡œ ëŒë¦¬ëŠ” ì‹¬ë¦¬" },
      "KC-24-9-h2-32": { area: "ë³¸ë¬¸", label: "ê³¼í•™ì  ë¶„ì„ìœ¼ë¡œ ë°í˜€ë‚¸ íŒ¨ì…˜ì˜ ì£¼ê¸°ì„±", desc: "Kroeberì˜ ì—°êµ¬ë¥¼ í†µí•´ ì¦ëª…ëœ íŒ¨ì…˜ì˜ 100ë…„ ë‹¨ìœ„ ê·œì¹™ì  ì£¼ê¸°ì„±" },
      "KC-24-9-h2-33": { area: "ë³¸ë¬¸", label: "ê¸°ìˆ  ë°œì „ì´ ì´ˆë˜í•˜ëŠ” ë…¸ë™ ì‹œì¥ì˜ ìœ„ê¸°ì™€ ë¶ˆí‰ë“±", desc: "ê¸°ìˆ  ë°œì „ì´ ë¶€ë¥¼ ì¦ëŒ€ì‹œí‚¤ë©´ì„œ ë™ì‹œì— ë¶ˆí‰ë“±ê³¼ ë…¸ë™ ì‹œì¥ ë¶•ê´´ë¥¼ ì•¼ê¸°" },
      "KC-24-9-h2-34": { area: "ë³¸ë¬¸", label: "ì „ë¬¸ì„±ì˜ ì—­ì„¤ (ìˆ™ë ¨ë ìˆ˜ë¡ ì„¤ëª…ì€ ì–´ë µë‹¤)", desc: "ì „ë¬¸ê°€ì˜ ì§€ì‹ì€ ì•”ë¬µì ì´ì–´ì„œ ìˆ™ë ¨ë„ê°€ ë†’ì„ìˆ˜ë¡ ê¸°ë³¸ ì›ë¦¬ ì„¤ëª…ì´ ì–´ë ¤ì›€" },
      "KC-24-9-h2-35": { area: "ë³¸ë¬¸", label: "ì˜ì–‘ì†Œ ë³´ì¡´ì„ ìœ„í•œ ì‹í’ˆ ê°€ê³µ ë°©ì‹", desc: "ì œë¶„ ë“± ì˜ì–‘ì†Œ íŒŒê´´ ë°©ì‹ê³¼ ìµœì†Œ ê°€ê³µ, ë°œíš¨ ë“± ë³´ì¡´ ë°©ì‹ ëŒ€ì¡°" },
      "KC-24-9-h2-36": { area: "ë³¸ë¬¸", label: "ìœ ëŠ¥í•¨ì˜ ì—­ì„¤ (ì™„ë²½í•¨ë³´ë‹¤ í—ˆì ì´ ë§¤ë ¥ì ì´ë‹¤)", desc: "ì§€ë‚˜ì¹˜ê²Œ ìœ ëŠ¥í•œ ì‚¬ëŒë³´ë‹¤ ì•½ê°„ì˜ ì‹¤ìˆ˜ë¥¼ ë³´ì´ëŠ” ì‚¬ëŒì´ ë” í˜¸ê°ì„ ì–»ëŠ” í˜„ìƒ" },
      "KC-24-9-h2-37": { area: "ë³¸ë¬¸", label: "ê¸°ê³„ì  ì •ë³´ ì²˜ë¦¬ì™€ ìœ ê¸°ì²´ì˜ ì˜ë¯¸ í‰ê°€", desc: "ì»´í“¨í„° ì•Œê³ ë¦¬ì¦˜ê³¼ ë‹¬ë¦¬ ê¿€ë²Œì€ ì •ë³´ë¥¼ ìì‹ ì˜ ê²½í—˜ì— ë¹„ì¶”ì–´ í‰ê°€í•¨" },
      "KC-24-9-h2-38": { area: "ë³¸ë¬¸", label: "ë°”ì´ëŸ¬ìŠ¤ì„± ì „ì—¼ê³¼ í–‰ë™ ì „ì—¼ì˜ ìœ ì‚¬ì  ë° ì°¨ì´ì ", desc: "'ê·¼ì ‘ì„±'ì€ ìœ ì‚¬í•˜ë‚˜ 'ê°€ì‹œì„±'ê³¼ 'ê²°ê³¼ì˜ ê°€ì¹˜'ì—ì„œ ì°¨ì´ì ì„ ë³´ì„" },
      "KC-24-9-h2-39": { area: "ë³¸ë¬¸", label: "ë™ë©´, ìˆ˜ë©´, ê·¸ë¦¬ê³  íœ´ë©´ì˜ ê°œë… êµ¬ë¶„", desc: "ë™ë©´ê³¼ ìˆ˜ë©´ì˜ ì°¨ì´, ê³°ì˜ ê²¨ìš¸ì ì€ ë™ë©´ì´ ì•„ë‹Œ íœ´ë©´(torpor)ì„ì„ ì„¤ëª…" },
      "KC-24-9-h2-40": { area: "ë³¸ë¬¸", label: "ë˜ë˜ì˜ ì¡´ì¬ê°€ ì•„ë™ì˜ ë„ì›€ í–‰ë™ì— ë¯¸ì¹˜ëŠ” ì—°ë ¹ë³„ ì°¨ì´", desc: "ë˜ë˜ ì¡´ì¬ê°€ ì–´ë¦° ì•„ë™ì˜ ë„ì›€ í–‰ë™ì€ ì´‰ì§„, ë‚˜ì´ ë“  ì•„ë™ì€ ì–µì œí•¨" },
      "KC-24-9-h2-4142": { area: "ë³¸ë¬¸", label: "ê¶Œìœ„ì— ëŒ€í•œ ì§ˆë¬¸ì˜ ì¤‘ìš”ì„±ê³¼ ë¶€ëª¨ì˜ ì—­í• ", desc: "ì•„ì´ë“¤ì˜ ì§ˆë¬¸ì„ ì§„ì§€í•˜ê²Œ ë°›ì•„ë“¤ì—¬ ìŠ¤ìŠ¤ë¡œ ìƒê°í•˜ëŠ” í˜ì„ ê¸¸ëŸ¬ì£¼ì–´ì•¼ í•¨" }
    };
    const groups = [
      { id: "core", title: "A. ê¸°ë°˜ ì§€ì‹", subtitle: "ë¬¸ë²•Â·ì–´íœ˜ ê¸°ë°˜", items:[] },
      { id: "reading", title: "B. ì ìš© Â· ë³¸ë¬¸", subtitle: "24ë…„ 9ì›” ê³ 2 ëª¨ì˜ê³ ì‚¬", items: Object.keys(kcMeta) }
    ];
    
    function getFeedbackHTML() { 
      return `
      <h3>ğŸ“Š ìƒì„¸ ë¶„ì„ ë° ë§ì¶¤ í”¼ë“œë°±</h3>
      <div>
        <p style="padding:12px; background-color: var(--gray-100); border-radius: 12px; font-size: 14px; margin-top:0;">
          <strong>ì´í‰:</strong> ${studentName} í•™ìƒì˜ ì „ì²´ ì„±ì·¨ë„ëŠ” <strong>95%</strong>ë¡œ, ì˜ì–´ ë…í•´ì˜ ê¸°ë³¸ê¸°ê°€ ë§¤ìš° íƒ„íƒ„í•œ ìƒíƒœì…ë‹ˆë‹¤. ëŒ€ë¶€ë¶„ì˜ ì§€ë¬¸ì„ ì •í™•í•˜ê²Œ ì´í•´í•˜ê³  ìˆìœ¼ë©°, ì´ëŠ” 100%ì— ê°€ê¹Œìš´ ë‹¤ìˆ˜ì˜ KC ì„±ì·¨ë„ê°€ ì¦ëª…í•©ë‹ˆë‹¤. ì´ì œ ìµœìƒìœ„ê¶Œìœ¼ë¡œ ë„ì•½í•˜ê¸° ìœ„í•´, ê°•ì  ì†ì— ìˆ¨ì–´ìˆëŠ” ë‹¨ í•˜ë‚˜ì˜ ê²°ì •ì  ì•½ì ì„ ê°œì„ í•˜ëŠ” ë° ì§‘ì¤‘í•  í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤.
        </p>
      </div>
      <hr>
      <h4>ğŸ“š ì „ì²´ íë¦„ íŒŒì•…: ìˆ²ì˜ 'ì—°ê²°ê³ ë¦¬'ë¥¼ ë†“ì¹˜ëŠ” ìƒíƒœ</h4>
      <p class="summary">
        <strong>í•µì‹¬ ì•½ì : ê¸€ì˜ í†µì¼ì„±ì„ í•´ì¹˜ëŠ” ë¬¸ì¥ ì°¾ê¸° (ìœ í˜• 321 ì„±ì·¨ë„: 0%)</strong>
        <br>ê¸€ì˜ ì£¼ì œë‚˜ ì„¸ë¶€ ì •ë³´ íŒŒì•… ëŠ¥ë ¥ì€ ë§¤ìš° ë›°ì–´ë‚˜ì§€ë§Œ, ë¬¸ì¥ê³¼ ë¬¸ì¥ ì‚¬ì´ì˜ ë…¼ë¦¬ì  ì—°ê²°ì„±ì„ íŒë‹¨í•˜ì—¬ ì£¼ì œì—ì„œ ë²—ì–´ë‚œ ë¬¸ì¥ì„ ì†ì•„ë‚´ëŠ” ëŠ¥ë ¥ì´ ê²°ì •ì ìœ¼ë¡œ ë¶€ì¡±í•©ë‹ˆë‹¤. ì´ëŠ” ê´€ë ¨ ìœ í˜•ì—ì„œ 0%ë¼ëŠ” ê²°ê³¼ë¡œ ëª…í™•í•˜ê²Œ ë“œëŸ¬ë‚¬ìŠµë‹ˆë‹¤.
      </p>
      <blockquote>
        <p><strong>ëŒ€í‘œ ë¬¸ì œ ì˜ˆì‹œ (9íšŒ 15ë²ˆ)</strong></p>
        <p><strong>[ì§€ë¬¸]</strong> For some reason, young people seem to believe that worry is a fact of life over which they have little or no control. (B) Consequently, they don't even try to stop. (C) The weather forecast predicts heavy rain and thunderstorms for the weekend, causing many outdoor events to be cancelled. Therefore, you need to convince them that worry, like guilt and fear, is nothing more than an emotion...</p>
        <p><strong>[ë¬¸ì œ]</strong> 15. ë‹¤ìŒ ê¸€ì—ì„œ ì „ì²´ íë¦„ê³¼ ê´€ê³„ì—†ëŠ” ë¬¸ì¥ì„ ê³ ë¥´ì‹œì˜¤.</p>
        <p>â¡ï¸ <strong>ì •ë‹µ: â‘¢ë²ˆ</strong> / <strong>í•™ìƒ ë‹µì•ˆ: â‘¡ë²ˆ</strong></p>
      </blockquote>
      <p class="analysis"><strong>ë¶„ì„:</strong> ì •ë‹µì€ â‘¢ë²ˆì´ì§€ë§Œ, í•™ìƒì€ â‘¡ë²ˆì„ ê³¨ëìŠµë‹ˆë‹¤. ì´ëŠ” ì• ë¬¸ì¥ì˜ ë‚´ìš©("ì Šì€ì´ë“¤ì€ ê±±ì •ì„ í†µì œí•  ìˆ˜ ì—†ë‹¤ê³  ë¯¿ëŠ”ë‹¤")ì™€ â‘¡ë²ˆ ë¬¸ì¥ì˜ ë‚´ìš©("<strong>ê²°ê³¼ì ìœ¼ë¡œ(Consequently)</strong>, ê·¸ë“¤ì€ ë©ˆì¶”ë ¤ê³  ì‹œë„ì¡°ì°¨ í•˜ì§€ ì•ŠëŠ”ë‹¤") ì‚¬ì´ì˜ <strong>ê°•ë ¥í•œ ì¸ê³¼ ê´€ê³„</strong>ë¥¼ ë†“ì³¤ë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤. 'Consequently'ëŠ” ì•ì„  ë‚´ìš©ì˜ ë‹¹ì—°í•œ ê²°ê³¼ë¥¼ ë³´ì—¬ì£¼ëŠ” ê²°ì •ì  ë‹¨ì„œì…ë‹ˆë‹¤. ë°˜ë©´, â‘¢ë²ˆ ë¬¸ì¥ì€ 'ë‚ ì”¨ ì˜ˆë³´'ë¼ëŠ”, 'ê±±ì •'ì´ë¼ëŠ” ê¸€ì˜ í•µì‹¬ ì£¼ì œì™€ ì•„ë¬´ëŸ° ê´€ë ¨ì´ ì—†ëŠ” ì™„ì „íˆ ë™ë–¨ì–´ì§„ ë‚´ìš©ì´ë¯€ë¡œ ì •ë‹µì…ë‹ˆë‹¤. ì´ì²˜ëŸ¼ ê° ë¬¸ì¥ì´ ì•ë’¤ ë¬¸ì¥ê³¼ ì–´ë–¤ ë…¼ë¦¬ì  ê´€ê³„ë¡œ ë¬¶ì—¬ ìˆëŠ”ì§€ íŒŒì•…í•˜ëŠ” í›ˆë ¨ì´ í•„ìš”í•©ë‹ˆë‹¤.</p>
      <hr>
      <h4>ğŸ¤” ì¶”ìƒì  ê°œë… ë…í•´: 'ë‹¨ì–´'ì˜ 'ìˆ¨ì€ ëœ»' íŒŒì•… ëŠ¥ë ¥ ë¶€ì¡±</h4>
      <p class="summary">
        <strong>í•µì‹¬ ì•½ì : ì¶”ìƒì  ê°œë…ì˜ ë¬¸ë§¥ì  ì˜ë¯¸ ì¶”ë¡  (KC-24-9-h2-31, 37, 4142 í‰ê·  84.5%)</strong>
        <br>ì „ë°˜ì ì¸ ë…í•´ë ¥ì€ ìš°ìˆ˜í•˜ì§€ë§Œ, ì² í•™ì ì´ê±°ë‚˜ ì‹¬ë¦¬ì ì¸ ë‚´ìš©ì„ ë‹¤ë£¨ëŠ” ì¶”ìƒì ì¸ ì§€ë¬¸ì—ì„œ ì„±ì·¨ë„ê°€ ë‹¤ì†Œ ë‚®ê²Œ ë‚˜íƒ€ë‚˜ëŠ” ê²½í–¥ì´ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ë‹¨ìˆœíˆ ê¸€ì ê·¸ëŒ€ë¡œì˜ í•´ì„ì„ ë„˜ì–´, ë¬¸ë§¥ ì†ì—ì„œ ë‹¨ì–´ê°€ í•¨ì¶•í•˜ëŠ” í•µì‹¬ì ì¸ ì˜ë¯¸ë¥¼ ì¶”ë¡ í•˜ëŠ” ë° ì•½ì ì´ ìˆìŒì„ ë³´ì—¬ì¤ë‹ˆë‹¤.
      </p>
      <blockquote>
        <p><strong>ëŒ€í‘œ ë¬¸ì œ ì˜ˆì‹œ (8íšŒ 11ë²ˆ)</strong></p>
        <p><strong>[ì§€ë¬¸]</strong> If the process is fair, however, we cannot nearly as easily externalize the outcome; we got what we got <strong>fair and square</strong>. When the process is fair we believe that our outcome is deserved...</p>
        <p><strong>[ë¬¸ì œ]</strong> 11. ë°‘ì¤„ ì¹œ \`fair and square\`ê°€ ë‹¤ìŒ ê¸€ì—ì„œ ì˜ë¯¸í•˜ëŠ” ë°”ë¡œ ê°€ì¥ ì ì ˆí•œ ê²ƒì€?</p>
        <p><strong>[ì„ íƒì§€]</strong><br>
        â‘  justly and honestly<br>
        â‘¡ unexpectedly and suddenly<br>
        â‘¢ gradually and steadily</p>
        <p>â¡ï¸ <strong>ì •ë‹µ: â‘ ë²ˆ</strong> / <strong>í•™ìƒ ë‹µì•ˆ: â‘¢ë²ˆ</strong></p>
      </blockquote>
      <p class="analysis"><strong>ë¶„ì„:</strong> ì •ë‹µì€ â‘ ë²ˆì´ì§€ë§Œ, í•™ìƒì€ â‘¢ë²ˆ('ì ì§„ì ì´ê³  ê¾¸ì¤€í•˜ê²Œ')ì„ ì„ íƒí–ˆìŠµë‹ˆë‹¤. \`fair and square\`ë¼ëŠ” í‘œí˜„ì˜ ëœ»ì„ ëª°ëë”ë¼ë„, ë°”ë¡œ ë’¤ ë¬¸ì¥ì—ì„œ "ìš°ë¦¬ì˜ ê²°ê³¼ê°€ <strong>ë§ˆë•…íˆ ë°›ì„ ë§Œí•œ(deserved)</strong> ê²ƒì´ë¼ê³  ë¯¿ëŠ”ë‹¤"ëŠ” ê²°ì •ì  ë‹¨ì„œë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì¦‰, ì´ í‘œí˜„ì€ 'ê³¼ì •ì´ ê³µì •í–ˆê¸°ì—, ê·¸ ê²°ê³¼ëŠ” ì˜¨ì „íˆ ë‚´ ëª«ìœ¼ë¡œ ë°›ì•„ë“¤ì—¬ì•¼ í•œë‹¤'ëŠ” <strong>ì •ë‹¹ì„±</strong>ê³¼ <strong>ì±…ì„</strong>ì˜ ì˜ë¯¸ë¥¼ í•¨ì¶•í•©ë‹ˆë‹¤. ì—¬ê¸°ì„œ â‘ ë²ˆ ì„ íƒì§€ì˜ <strong>'justly'(ì •ë‹¹í•˜ê²Œ)</strong>ëŠ” ì´ í•µì‹¬ ì˜ë¯¸ë¥¼ ì •í™•íˆ ë‹´ê³  ìˆìŠµë‹ˆë‹¤. ë°˜ë©´, í•™ìƒì´ ê³ ë¥¸ 'ì ì§„ì ìœ¼ë¡œ'ëŠ” ê³¼ì •ì˜ ê³µì •ì„±ê³¼ ê²°ê³¼ì˜ ì •ë‹¹ì„±ì´ë¼ëŠ” ê¸€ì˜ í•µì‹¬ ë…¼ë¦¬ì™€ëŠ” ì „í˜€ ê´€ë ¨ì´ ì—†ìŠµë‹ˆë‹¤. ì´ì²˜ëŸ¼ ì¶”ìƒì ì¸ ì§€ë¬¸ì¼ìˆ˜ë¡ í•µì‹¬ ë‹¨ì–´ê°€ ë¬¸ë§¥ ì†ì—ì„œ ì–´ë–¤ ì˜ë¯¸ë¡œ ì‚¬ìš©ë˜ì—ˆëŠ”ì§€ ëê¹Œì§€ ì¶”ë¡ í•˜ëŠ” ì—°ìŠµì´ ì¤‘ìš”í•©ë‹ˆë‹¤.</p>
      `; 
    }

    // ======== ë Œë”ë§ ë¡œì§ ========
    const mount = document.getElementById('mount');
    const searchEl = document.getElementById('search');
    const focusBox = document.getElementById('focusBox');
    let currentView = 'all';

    const thresholds = { excellent:85, ok:60 };
    const clamp = (n) => Math.max(0, Math.min(100, Number(n||0)));
    
    // B ê·œì¹™: ì •ìˆ˜ ë°˜ì˜¬ë¦¼
    function scoreLabel(v){
      if(v==null) return 'ë¯¸í‰ê°€';
      const n = Number(v);
      return Math.round(n) + '%';
    }
    function average(nums){ const vals = nums.filter(v => v!=null && !Number.isNaN(Number(v))); if(!vals.length) return null; return vals.reduce((a,b)=>a+Number(b),0)/vals.length; }
    function barColor(v){ if(v==null) return '#e5e7eb'; if(v>=thresholds.excellent) return 'var(--green)'; if(v>=thresholds.ok) return 'var(--yellow)'; return 'var(--red)'; }
    function statusColor(v){ if(v==null) return 'background:#e5e7eb;color:#374151'; if(v>=thresholds.excellent) return 'background:var(--green-100);color:var(--green)'; if(v>=thresholds.ok) return 'background:var(--yellow-100);color:var(--yellow)'; return 'background:var(--red-100);color:var(--red)';}

    function KCCard(id){
      const m = kcMeta[id]||{}; const v = kcScores[id] || {score:null, correct:0, total:0};
      const el = document.createElement('div');
      el.className = 'card p-16'; el.style.borderColor = '#e5e7eb';
      el.innerHTML = `
        <div class="kc-card">
          <div class="kc-ico">${m.area==='ì˜ì‚¬ì†Œí†µ'?'ğŸ’¬':m.area==='ë¬¸ë²•'?'âœï¸':m.area==='ì–´íœ˜'?'ğŸ”¤':m.area==='ëŒ€í™”ë¬¸'?'ğŸ’¬':'ğŸ“–'}</div>
          <div style="flex:1;min-width:0">
            <div class="row" style="align-items:center;gap:6px;flex-wrap:wrap">
              <span class="small" style="font-weight:700">${id}</span>
              <span class="pill" style="${statusColor(v.score)}">${scoreLabel(v.score)}</span>
            </div>
            <div class="row between">
              <div class="small" style="font-weight:700;margin-top:4px">${m.label||''}</div>
              <div class="small muted" style="margin-top:4px">(${v.correct}/${v.total})</div>
            </div>
            <div class="small muted" style="margin-top:2px">${m.desc||''}</div>
            <div class="hbar" style="margin-top:8px"><span style="width:${clamp(v.score||0)}%; background:${barColor(v.score)}"></span></div>
          </div>
        </div>
      `;
      return el;
    }

    function TypeCard(t){
      const el = document.createElement('div');
      el.className = 'card p-16';
      const related = (t.kcs||[]).map(k=>`${k} (${scoreLabel((kcScores[k]||{}).score)})`).join(' Â· ');
      el.innerHTML = `
        <div class="type-card">
          <div style="min-width:0">
            <div class="row" style="gap:6px;flex-wrap:wrap">
              <span class="small" style="font-weight:700">${t.name}</span>
              <span class="small muted">[${t.code}]</span>
              <span class="pill" style="background:#f3f4f6;color:#374151">${t.area}</span>
            </div>
            <div class="small muted" style="margin-top:4px">(${t.correct}/${t.total})</div>
            <div class="small muted" style="margin-top:4px">ì—°ê³„ KC: ${related}</div>
          </div>
          <div style="text-align:right;min-width:120px;flex-shrink:0;">
            <div style="font-weight:700">${scoreLabel(t.score)}</div>
            <div class="hbar" style="margin-top:6px"><span style="width:${clamp(t.score||0)}%; background:${barColor(t.score)}"></span></div>
          </div>
        </div>
      `;
      return el;
    }
    
    function renderFocus(){
      const list = document.getElementById('focusList');
      if (!list) return;
      const entries = Object.entries(kcScores)
        .filter(([k,v])=>v.score!=null && v.score < thresholds.excellent)
        .sort((a,b)=> (a[1].score-b[1].score) || (String((kcMeta[a[0]]||{}).area) > String((kcMeta[b[0]]||{}).area) ? 1 : -1))
        .slice(0,3);

      list.innerHTML = entries.map(([k,v])=>{
        const m = kcMeta[k]||{};
        return `<li style="margin:6px 0"><strong>${k}</strong> (${m.label||''}) â€” <span class="pill" style="${statusColor(v.score)}">${scoreLabel(v.score)}</span></li>`;
      }).join('') || '<li class="muted">ì§‘ì¤‘ ë³´ì™„ì´ í•„ìš”í•œ ì˜ì—­ì´ ì—†ìŠµë‹ˆë‹¤. ì˜í•˜ê³  ìˆì–´ìš”!</li>';
    }

    function render(){
        const q = (searchEl.value||'').trim().toLowerCase();
        mount.innerHTML = '';
        focusBox.style.display = currentView === 'feedback' ? 'none' : 'block';

        ['core','reading'].forEach(id=>{
            if(!(currentView==='all' || currentView===id)) return;
            const g = groups.find(x=>x.id===id);
            if (!g) return;
            const items = g.items.filter(k=>{
                if(!q) return true;
                const m = kcMeta[k]||{};
                return k.toLowerCase().includes(q) || (m.label||'').toLowerCase().includes(q) || (m.desc||'').toLowerCase().includes(q) || (m.area||'').toLowerCase().includes(q);
            });
            if(!items.length) return;

            const sec = document.createElement('section');
            sec.className = 'card p-20'; sec.style.marginTop = '16px';
            const icon = id === 'core' ? 'ğŸ§©' : 'ğŸ“–';
            sec.innerHTML = `<div class="between"><div><div class="title" style="font-size:18px">${icon} ${g.title}</div><div class="sub muted">${g.subtitle}</div></div></div>`;
            const grid = document.createElement('div');
            grid.className = 'grid grid-2 grid-3'; grid.style.marginTop = '12px';
            items.forEach(k => grid.appendChild(KCCard(k)));
            sec.appendChild(grid);
            mount.appendChild(sec);
        });

        if(currentView==='all' || currentView==='types'){
            const filteredTypes = typeScores.filter(t=>{
                if(!q) return true;
                return (t.name+t.code+t.area+(t.kcs||[]).join(',')).toLowerCase().includes(q);
            });
            if(filteredTypes.length){
                const sec = document.createElement('section');
                sec.className = 'card p-20'; sec.style.marginTop = '16px';
                sec.innerHTML = `<div class="between"><div><div class="title" style="font-size:18px">ğŸ“ ë¬¸ì œ ìœ í˜• ì„±ì·¨ë„</div><div class="sub muted">ì´ ${totalProblemsAll}ë¬¸ì œ ì¤‘ ${totalCorrectAll}ë¬¸ì œ ì •ë‹µ</div></div></div>`;
                const grid = document.createElement('div');
                grid.className = 'grid grid-2'; grid.style.marginTop = '12px';
                filteredTypes.forEach(t => grid.appendChild(TypeCard(t)));
                sec.appendChild(grid);
                mount.appendChild(sec);
            }
        }

        if(currentView==='all' || currentView==='feedback'){
            const sec = document.createElement('section');
            sec.className = 'card p-24 feedback-section'; sec.style.marginTop = '16px';
            sec.innerHTML = getFeedbackHTML();
            mount.appendChild(sec);
        }
        
        const avgKCVal = average(Object.values(kcScores).map(k => k.score));
        document.getElementById('avgKC').textContent = scoreLabel(avgKCVal);
        document.getElementById('avgKCBar').style.width = clamp(avgKCVal) + '%';
        document.getElementById('avgKCBar').style.background = barColor(avgKCVal);

        const avgTypeVal = average(typeScores.map(t => t.score));
        document.getElementById('avgType').textContent = scoreLabel(avgTypeVal);
        document.getElementById('avgTypeBar').style.width = clamp(avgTypeVal) + '%';
        document.getElementById('avgTypeBar').style.background = barColor(avgTypeVal);
        
        const correctRateVal = totalProblemsAll > 0 ? (totalCorrectAll / totalProblemsAll) * 100 : null;
        document.getElementById('avgCorrectRate').textContent = scoreLabel(correctRateVal);
        document.getElementById('totalCount').textContent = `(${totalCorrectAll}/${totalProblemsAll})`;
        const correctRateBar = document.getElementById('avgCorrectRateBar');
        if (correctRateBar) {
            correctRateBar.style.width = clamp(correctRateVal) + '%';
            correctRateBar.style.background = barColor(correctRateVal);
        }
        renderFocus();
    }
    
    function init() {
        document.getElementById('printBtn').addEventListener('click', () => window.print());
        document.body.addEventListener('click', (e) => {
            const btn = e.target.closest('.view-btn');
            if(!btn) return;
            document.querySelectorAll('.view-btn').forEach(b => {
                b.classList.remove('active');
                b.setAttribute('aria-pressed', 'false');
            });
            btn.classList.add('active');
            btn.setAttribute('aria-pressed', 'true');
            currentView = btn.dataset.view || 'all';
            render();
        });
        searchEl.addEventListener('input', render);
        render();
    }

    document.addEventListener('DOMContentLoaded', init);
  })();
  </script>
</body>
</html>
